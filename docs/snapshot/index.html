<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Dilip Krishnan, Adrian Kelly">
<title>Springfox Reference Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Springfox Reference Documentation</h1>
<div class="details">
<span id="author" class="author">Dilip Krishnan</span><br>
<span id="author2" class="author">Adrian Kelly</span><br>
<span id="revnumber">version 3.0.1-SNAPSHOT</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#history">1.1. History</a></li>
<li><a href="#goals">1.2. Goals</a></li>
<li><a href="#what-its-not">1.3. What it&#8217;s not</a></li>
<li><a href="#development-environment">1.4. Development Environment</a>
<ul class="sectlevel3">
<li><a href="#pre-commit-build">1.4.1. Pre-Commit Build</a></li>
<li><a href="#building-reference-documentation">1.4.2. Building reference documentation</a></li>
<li><a href="#updating-the-contract-tests">1.4.3. Updating the contract tests</a></li>
<li><a href="#ci-environment">1.4.4. CI Environment</a></li>
</ul>
</li>
<li><a href="#releasing">1.5. Releasing</a>
<ul class="sectlevel3">
<li><a href="#snapshot">1.5.1. Snapshot</a></li>
<li><a href="#override-deploy">1.5.2. Override deploy</a></li>
<li><a href="#releasing-documentation">1.5.3. Releasing documentation</a></li>
<li><a href="#contributing">1.5.4. Contributing</a></li>
</ul>
</li>
<li><a href="#support">1.6. Support</a></li>
</ul>
</li>
<li><a href="#getting-started">2. Getting Started</a>
<ul class="sectlevel2">
<li><a href="#dependencies">2.1. Dependencies</a>
<ul class="sectlevel3">
<li><a href="#gradle">2.1.1. Gradle</a></li>
<li><a href="#maven">2.1.2. Maven</a></li>
<li><a href="#migrating-from-existing-2-x-version">2.1.3. Migrating from existing 2.x version</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#quick-start-guides">3. Quick start guides</a>
<ul class="sectlevel2">
<li><a href="#springfox-spring-mvc-and-spring-boot">3.1. Springfox Spring MVC and Spring Boot</a></li>
<li><a href="#configuration-explained">3.2. Configuration explained</a></li>
<li><a href="#springfox-spring-data-rest">3.3. Springfox Spring Data Rest</a>
<ul class="sectlevel3">
<li><a href="#gradle-2">3.3.1. Gradle</a></li>
<li><a href="#maven-2">3.3.2. Maven</a></li>
<li><a href="#java-config">3.3.3. java config</a></li>
<li><a href="#xml-config">3.3.4. xml config</a></li>
</ul>
</li>
<li><a href="#springfox-support-for-jsr-303">3.4. Springfox Support for JSR-303</a>
<ul class="sectlevel3">
<li><a href="#gradle-3">3.4.1. Gradle</a></li>
<li><a href="#maven-3">3.4.2. Maven</a></li>
<li><a href="#java-config-2">3.4.3. java config</a></li>
<li><a href="#xml-config-2">3.4.4. xml config</a></li>
</ul>
</li>
<li><a href="#springfox-swagger-ui">3.5. Springfox Swagger UI</a></li>
<li><a href="#springfox-rfc6570-support">3.6. Springfox RFC6570 support</a></li>
<li><a href="#springfox-spring-integration-support-incubating">3.7. Springfox Spring-Integration Support <strong>incubating</strong></a></li>
<li><a href="#securing-swagger-ui">3.8. Securing swagger-ui</a></li>
<li><a href="#springfox-samples">3.9. Springfox samples</a></li>
</ul>
</li>
<li><a href="#architecture">4. Architecture</a>
<ul class="sectlevel2">
<li><a href="#background">4.1. Background</a></li>
<li><a href="#component-model">4.2. Component Model</a></li>
</ul>
</li>
<li><a href="#swagger">5. Swagger</a>
<ul class="sectlevel2">
<li><a href="#swagger-1-2-vs-swagger-2-0">5.1. Swagger 1.2 vs Swagger 2.0</a></li>
<li><a href="#moving-from-swagger-springmvc">5.2. Moving from swagger-springmvc?</a></li>
<li><a href="#springfox-configuration-and-demo-applications">5.3. Springfox configuration and demo applications</a></li>
</ul>
</li>
<li><a href="#configuring-springfox">6. Configuring Springfox</a>
<ul class="sectlevel2">
<li><a href="#configuring-the-objectmapper">6.1. Configuring the ObjectMapper</a></li>
<li><a href="#customizing-the-swagger-endpoints">6.2. Customizing the swagger endpoints.</a></li>
<li><a href="#configuring-startup">6.3. Configuring startup.</a></li>
<li><a href="#overriding-descriptions-via-properties">6.4. Overriding descriptions via properties</a></li>
<li><a href="#overriding-property-datatypes">6.5. Overriding property datatypes</a></li>
<li><a href="#docket-xml-configuration">6.6. Docket XML Configuration</a></li>
<li><a href="#docket-spring-java-configuration">6.7. Docket Spring Java Configuration</a></li>
<li><a href="#property-file-lookup">6.8. Support for documentation from property file lookup</a>
<ul class="sectlevel3">
<li><a href="#swagger-group">6.8.1. Swagger group</a></li>
<li><a href="#configuring-the-output-of-operationid-in-a-swagger-2-0-spec">6.8.2. Configuring the output of <em>operationId</em> in a Swagger 2.0 spec</a></li>
<li><a href="#changing-how-generic-types-are-named">6.8.3. Changing how Generic Types are Named</a></li>
</ul>
</li>
<li><a href="#caching">6.9. Caching</a></li>
<li><a href="#configuring-security-schemes-and-contexts-an-overview">6.10. Configuring Security Schemes and Contexts an Overview</a></li>
<li><a href="#example-application">6.11. Example application</a></li>
</ul>
</li>
<li><a href="#configuring-springfox-staticdocs">7. Configuring springfox-staticdocs</a></li>
<li><a href="#security">8. Security</a></li>
<li><a href="#plugins">9. Plugins</a>
<ul class="sectlevel2">
<li><a href="#introduction-2">9.1. Introduction</a></li>
<li><a href="#plugins-available-for-extensibility">9.2. Plugins Available For Extensibility</a></li>
<li><a href="#steps-to-create-a-plugin">9.3. Steps To Create A Plugin</a>
<ul class="sectlevel3">
<li><a href="#example-operationbuilderplugin">9.3.1. Example OperationBuilderPlugin</a></li>
<li><a href="#example-parameterbuilderplugin">9.3.2. Example ParameterBuilderPlugin</a></li>
<li><a href="#example-apilistingscannerplugin">9.3.3. Example ApiListingScannerPlugin</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#additional-extensibility-options">10. Additional extensibility options</a>
<ul class="sectlevel2">
<li><a href="#examples-of-alternate-type-rule-convention">10.1. Examples of alternate type rule convention</a>
<ul class="sectlevel3">
<li><a href="#jacksonserializerconvention">10.1.1. JacksonSerializerConvention</a></li>
<li><a href="#creating-a-convention">10.1.2. Creating a convention</a></li>
</ul>
</li>
<li><a href="#aggregating-multiple-swagger-specifications-in-the-same-swagger-ui">10.2. Aggregating multiple swagger specifications in the same swagger-ui</a></li>
</ul>
</li>
<li><a href="#spring-data-rest-extensibility">11. Spring Data Rest extensibility</a></li>
<li><a href="#answers-to-common-questions-and-problems">12. Answers to common questions and problems</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Springfox suite of java libraries are all about automating the generation of machine and human readable
 specifications for JSON APIs written using the <a href="http://projects.spring.io/spring-framework">spring family of projects</a>. Springfox
 works by examining an application, once, at runtime to infer API semantics based on spring configurations, class structure and
 various compile time java Annotations.</p>
</div>
<div class="sect2">
<h3 id="history"><a class="anchor" href="#history"></a>1.1. History</h3>
<div class="paragraph">
<p>Springfox has evolved from a project originally created by <a href="https://github.com/martypitt">Marty Pitt</a> and was named
<em>swagger-springmvc</em>. Much kudos goes to Marty.</p>
</div>
</div>
<div class="sect2">
<h3 id="goals"><a class="anchor" href="#goals"></a>1.2. Goals</h3>
<div class="ulist">
<ul>
<li>
<p>To extend support for a number of the evolving standards targeted at JSON API specification and documentation
such as: <a href="http://swagger.io/">swagger</a>, <a href="http://raml.org/">RAML</a> and <a href="http://jsonapi.org/">jsonapi</a>.</p>
</li>
<li>
<p>To extend support for spring technologies other than <a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html">spring webmvc</a></p>
</li>
<li>
<p>Philosophically, we want to discourage using (swagger-core) annotations that are not material to the
service description at runtime. For e.g. the jackson annotations should always trump or have more weight than
<code>@ApiModelProperty</code> or for e.g. <code>@NotNull</code> or specifying @RequestParam#required should always win. Annotations are to
to be used only to supplement documentation or override/tweak the resulting spec in cases where its not possible to
infer service/schema characteristics.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="what-its-not"><a class="anchor" href="#what-its-not"></a>1.3. What it&#8217;s not</h3>
<div class="paragraph">
<p>Endorsed or approved by the Spring Framework Contributors</p>
</div>
</div>
<div class="sect2">
<h3 id="development-environment"><a class="anchor" href="#development-environment"></a>1.4. Development Environment</h3>
<div class="ulist">
<ul>
<li>
<p>File &gt;&gt; open &gt;&gt; build.gradle</p>
</li>
<li>
<p>Make sure to check the 'use the default gradle wrapper' option.</p>
</li>
<li>
<p>First time build</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">./gradlew cleanIdea idea</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To get more output from any gradle commands/tasks append a <code>-i</code> (info) or <code>-d</code> (debug) e.g.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">./gradlew build -i</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To publish to local maven repository</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">./gradlew clean build publishToMavenLocal -i</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This build is optimized for releasing software to bintray/sonatype. In order for gradle to figure out
the version the gradle plugin relies on local folder being a cloned git repository. Downloading the source archive
and building will NOT work!
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="pre-commit-build"><a class="anchor" href="#pre-commit-build"></a>1.4.1. Pre-Commit Build</h4>
<div class="ulist">
<ul>
<li>
<p>Code quality (code coverage, checkstyle)</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">./gradlew check</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="building-reference-documentation"><a class="anchor" href="#building-reference-documentation"></a>1.4.2. Building reference documentation</h4>
<div class="paragraph">
<p>To build all the current documentation (builds hand written docs and javadocs):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">./gradlew allDocs</code></pre>
</div>
</div>
<div class="paragraph">
<p>The docs are generated in the <code>build/all-docs</code> folder. To publish the current documentation (snapshot)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">./gradlew releaseDocs</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="updating-the-contract-tests"><a class="anchor" href="#updating-the-contract-tests"></a>1.4.3. Updating the contract tests</h4>
<div class="paragraph">
<p>When developing new contract test, to make it easy to update the existing tests with new contracts, uncomment the
following lines in <a href="https://github.com/springfox/springfox/blob/master/swagger-contract-tests/build.gradle">swagger-contract-tests/build.gradle</a>.
Usually this happens when we add a new contract test for a bug we&#8217;ve fixed or a feature that was added, we create an
endpoint in <a href="https://github.com/springfox/springfox/blob/master/springfox-spring-web/src/test/java/springfox/documentation/spring/web/dummy/controllers/BugsController.java">BugsController</a>
or <a href="https://github.com/springfox/springfox/blob/master/springfox-spring-web/src/test/java/springfox/documentation/spring/web/dummy/controllers/FeatureDemonstrationService.java">FeatureDemonstrationService</a> to demonstrate the new fix or behavior.</p>
</div>
<div id="update-contract-tests" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="gradle"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>// NOTE: Uncomment to bulk update contracts
//test {
//  systemProperty(&quot;contract.tests.root&quot;, &quot;$projectDir/src/test/resources&quot;)
//  systemProperty(&quot;contract.tests.update&quot;, true)
//}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ci-environment"><a class="anchor" href="#ci-environment"></a>1.4.4. CI Environment</h4>
<div class="paragraph">
<p><a href="https://circleci.com/gh/springfox/springfox">Circle CI</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="releasing"><a class="anchor" href="#releasing"></a>1.5. Releasing</h3>
<div class="paragraph">
<p>To release a non-snapshot version of Springfox:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Execute the the release commands:
The below environment variables are required to run a release:</p>
</li>
<li>
<p><code>GITHUB_TOKEN</code> - this is the github token</p>
</li>
<li>
<p><code>BINTRAY_USER_NAME</code> - this is your bintray user</p>
</li>
<li>
<p><code>BINTRAY_PASSWORD</code> - this is your bintray token</p>
</li>
<li>
<p><code>SONATYPE_USER_NAME</code></p>
</li>
<li>
<p><code>SONATYPE_PASSWORD</code></p>
</li>
<li>
<p><code>GPG_PASSPHRASE</code> - if your gpg key has a passphrase or ''</p>
</li>
<li>
<p><code>SONATYPE_SYNC</code> - automatically sync to maven central</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Alternatively you could set the following gradle/project properties (-Pproperty)
    - <code>githubToken</code> - this is the github token
    - <code>bintrayUsername</code> - this is your bintray user
    - <code>bintrayApiKey</code> - this is your bintray token
    - <code>gpgPassphrase</code> - if your gpg key has a passphrase or ''
    - <code>ossUser</code>
    - <code>ossPassword</code>
    - <code>ossSync</code> - automatically sync to maven central</p>
</div>
<div class="paragraph">
<p>Recommend using [autoenv](<a href="https://github.com/kennethreitz/autoenv" class="bare">https://github.com/kennethreitz/autoenv</a>) with a <code>.env</code> file at the root of the repo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>    ./gradlew clean build release [-PreleaseType=&lt;MAJOR|MINOR|PATCH&gt;]
    ./gradlew releaseDocs</code></pre>
</div>
</div>
<div class="paragraph">
<p>The release steps are as follows:
- check that the git workspace is clean
- check that the local git branch is master
- check that the local git branch is the same as origin
- gradle test
- gradle check
- upload (publish) all artifacts to Bintray
- Bumps the project version in <code>version.properties</code>
- Git tag the release
- Git push</p>
</div>
<div class="sect3">
<h4 id="snapshot"><a class="anchor" href="#snapshot"></a>1.5.1. Snapshot</h4>
<div class="paragraph">
<p>This is normally done by the CI server</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>./gradlew publishSnapshot</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="override-deploy"><a class="anchor" href="#override-deploy"></a>1.5.2. Override deploy</h4>
<div class="paragraph">
<p>To bypass the standard release flow and upload directly to bintray use the following task
- manually set the version in version.properties</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>./gradlew clean build bintrayUpload -PreleaseType=&lt;MAJOR|MINOR|PATCH&gt;
 --stacktrace</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="releasing-documentation"><a class="anchor" href="#releasing-documentation"></a>1.5.3. Releasing documentation</h4>
<div class="paragraph">
<p>To update the docs for an existing release pass the <code>updateMode</code> switch</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>./gradlew releaseDocs</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="contributing"><a class="anchor" href="#contributing"></a>1.5.4. Contributing</h4>
<div class="paragraph">
<p>Please see the <a href="https://github.com/springfox/springfox/wiki">wiki</a> for some guidelines</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="support"><a class="anchor" href="#support"></a>1.6. Support</h3>
<div class="paragraph">
<p>If you find issues or bugs please submit them via the <a href="https://github.com/springfox/springfox/issues">Springfox Github project</a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="anchor" href="#getting-started"></a>2. Getting Started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="dependencies"><a class="anchor" href="#dependencies"></a>2.1. Dependencies</h3>
<div class="paragraph">
<p>The Springfox libraries are hosted on <a href="https://bintray.com/springfox/maven-repo/springfox/view">bintray</a> and jcenter.
The artifacts can be viewed accessed at the following locations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Release:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://jcenter.bintray.com/io/springfox/" class="bare">https://jcenter.bintray.com/io/springfox/</a></p>
</li>
<li>
<p><a href="http://jcenter.bintray.com/io/springfox/" class="bare">http://jcenter.bintray.com/io/springfox/</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Snapshot</p>
<div class="ulist">
<ul>
<li>
<p><a href="http://oss.jfrog.org/simple/oss-snapshot-local/io/springfox/" class="bare">http://oss.jfrog.org/simple/oss-snapshot-local/io/springfox/</a></p>
</li>
<li>
<p><a href="http://oss.jfrog.org/oss-snapshot-local/io/springfox/" class="bare">http://oss.jfrog.org/oss-snapshot-local/io/springfox/</a></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Springfox has multiple modules and the dependencies will vary depending on the desired API specification standard.
Below outlines how to include the springfox-swagger2 module which produces Swagger 2.0 API documentation.</p>
</div>
<div class="sect3">
<h4 id="gradle"><a class="anchor" href="#gradle"></a>2.1.1. Gradle</h4>
<div class="sect4">
<h5 id="release"><a class="anchor" href="#release"></a>Release</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">repositories {
  jcenter()
}

dependencies {
<span class="comment">//  For Spring boot Projects</span>
    implementation <span class="string"><span class="delimiter">&quot;</span><span class="content">io.springfox:springfox-boot-starter:3.0.0</span><span class="delimiter">&quot;</span></span>
<span class="comment">//  Uncomment for regular spring mvc projects and commend above dependency</span>
<span class="comment">//    implementation &quot;io.springfox:springfox-oas:3.0.0&quot;</span>
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="snapshot-2"><a class="anchor" href="#snapshot-2"></a>Snapshot</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">repositories {
   maven { url <span class="string"><span class="delimiter">'</span><span class="content">http://oss.jfrog.org/artifactory/oss-snapshot-local/</span><span class="delimiter">'</span></span> }
}

dependencies {

<span class="comment">//  For Spring boot Projects</span>
    implementation <span class="string"><span class="delimiter">&quot;</span><span class="content">io.springfox:springfox-boot-starter:3.0.0</span><span class="delimiter">&quot;</span></span>
<span class="comment">//  Uncomment for regular spring mvc projects and commend above dependency</span>
<span class="comment">//    implementation &quot;io.springfox:springfox-oas:3.0.1-SNAPSHOT&quot;</span>
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="maven"><a class="anchor" href="#maven"></a>2.1.2. Maven</h4>
<div class="sect4">
<h5 id="release-2"><a class="anchor" href="#release-2"></a>Release</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;pom&gt;</span>

    <span class="tag">&lt;repositories&gt;</span>
        <span class="tag">&lt;repository&gt;</span>
          <span class="tag">&lt;id&gt;</span>jcenter-snapshots<span class="tag">&lt;/id&gt;</span>
          <span class="tag">&lt;name&gt;</span>jcenter<span class="tag">&lt;/name&gt;</span>
          <span class="tag">&lt;url&gt;</span>https://jcenter.bintray.com/<span class="tag">&lt;/url&gt;</span>
        <span class="tag">&lt;/repository&gt;</span>
    <span class="tag">&lt;/repositories&gt;</span>

    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>io.springfox<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>springfox-boot-starter<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="comment">&lt;!--   Uncomment for regular spring mvc projects and commend above dependency
    &lt;dependency&gt;
        &lt;groupId&gt;io.springfox&lt;/groupId&gt;
        &lt;artifactId&gt;springfox-oas&lt;/artifactId&gt;
        &lt;version&gt;3.0.0&lt;/version&gt;
    &lt;/dependency&gt;
--&gt;</span>
<span class="tag">&lt;/pom&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="snapshot-3"><a class="anchor" href="#snapshot-3"></a>Snapshot</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;pom&gt;</span>
    <span class="tag">&lt;repositories&gt;</span>
        <span class="tag">&lt;repository&gt;</span>
          <span class="tag">&lt;id&gt;</span>jcenter-snapshots<span class="tag">&lt;/id&gt;</span>
          <span class="tag">&lt;name&gt;</span>jcenter<span class="tag">&lt;/name&gt;</span>
          <span class="tag">&lt;url&gt;</span>http://oss.jfrog.org/artifactory/oss-snapshot-local/<span class="tag">&lt;/url&gt;</span>
        <span class="tag">&lt;/repository&gt;</span>
    <span class="tag">&lt;/repositories&gt;</span>

    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>io.springfox<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>springfox-boot-starter<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>3.0.1-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="comment">&lt;!--   Uncomment for regular spring mvc projects and commend above dependency
    &lt;dependency&gt;
        &lt;groupId&gt;io.springfox&lt;/groupId&gt;
        &lt;artifactId&gt;springfox-oas&lt;/artifactId&gt;
        &lt;version&gt;3.0.1-SNAPSHOT&lt;/version&gt;
    &lt;/dependency&gt;
--&gt;</span>
<span class="tag">&lt;/pom&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="migrating-from-existing-2-x-version"><a class="anchor" href="#migrating-from-existing-2-x-version"></a>2.1.3. Migrating from existing 2.x version</h4>
<div class="sect4">
<h5 id="spring-boot-applications"><a class="anchor" href="#spring-boot-applications"></a>Spring Boot Applications</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Remove library inclusions of earlier releases. Specifically remove <code>springfox-swagger2</code> and <code>springfox-swagger-ui</code> inclusions.</p>
</li>
<li>
<p>Remove the <code>@EnableSwagger2</code> annotations</p>
</li>
<li>
<p>Add the <code>springfox-boot-starter</code></p>
</li>
<li>
<p>Springfox 3.x removes dependencies on guava and other 3rd party libraries (not zero dep yet! depends on spring plugin
and open api libraries for annotations and models) so if you used guava predicates/functions those will need to
transition to java 8 function interfaces</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="regular-spring-mvc"><a class="anchor" href="#regular-spring-mvc"></a>Regular spring mvc</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Remove library inclusions of earlier releases. Specifically remove <code>springfox-swagger2</code> and <code>springfox-swagger-ui</code> inclusions.</p>
</li>
<li>
<p>For OpenAPI add the <code>@EnableOpenApi</code> annotation (and <code>@EnableSwagger2</code> for swagger 2.0)</p>
</li>
<li>
<p>For OpenAPI add the <code>springfox-oas</code> library dependency (for swagger 2.0 use <code>springfox-swagger2</code>)</p>
</li>
<li>
<p>Springfox 3.x removes dependencies on guava and other 3rd party libraries (not zero dep yet! depends on spring plugin
and open api libraries for annotations and models) so if you used guava predicates/functions those will need to
transition to java 8 function interfaces</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="changes-in-swagger-ui"><a class="anchor" href="#changes-in-swagger-ui"></a>Changes in swagger-ui</h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For non-boot applications <code>springfox-swagger-ui</code> is no longer automatically enabled by adding the dependency. It needs to be explicitly register
using a resource handler configurer (<code>WebFluxConfigurer</code> or <code>WebMvcConfigurer</code>). Here is how it is configured in
<code>springfox-boot-starter</code>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
swagger-ui location has moved from <code><a href="http://host/context-path/swagger-ui.html" class="bare">http://host/context-path/swagger-ui.html</a></code>  to <code><a href="http://host/context-path/swagger-ui/index.html" class="bare">http://host/context-path/swagger-ui/index.html</a></code>
OR <code><a href="http://host/context-path/swagger-ui/" class="bare">http://host/context-path/swagger-ui/</a></code> for short. This makes it work much better with pulling it as a web jar and turning it off
using configuration properties if not needed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For WebMvc <a href="https://github.com/springfox/springfox/blob/master/springfox-boot-starter/src/main/java/springfox/boot/starter/autoconfigure/SwaggerUiWebMvcConfigurer.java">SwagggerUIWebMvcConfigurer.java</a></p>
</div>
<div id="jackson-convention-example-1" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">SwaggerUiWebMvcConfigurer</span> <span class="directive">implements</span> WebMvcConfigurer {
  <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> baseUrl;

  <span class="directive">public</span> SwaggerUiWebMvcConfigurer(<span class="predefined-type">String</span> baseUrl) {
    <span class="local-variable">this</span>.baseUrl = baseUrl;
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {
    <span class="predefined-type">String</span> baseUrl = StringUtils.trimTrailingCharacter(<span class="local-variable">this</span>.baseUrl, <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span>);
    registry.
        addResourceHandler(baseUrl + <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-ui/**</span><span class="delimiter">&quot;</span></span>)
        .addResourceLocations(<span class="string"><span class="delimiter">&quot;</span><span class="content">classpath:/META-INF/resources/webjars/springfox-swagger-ui/</span><span class="delimiter">&quot;</span></span>)
        .resourceChain(<span class="predefined-constant">false</span>);
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> addViewControllers(ViewControllerRegistry registry) {
    registry.addViewController(baseUrl + <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-ui/</span><span class="delimiter">&quot;</span></span>)
        .setViewName(<span class="string"><span class="delimiter">&quot;</span><span class="content">forward:</span><span class="delimiter">&quot;</span></span> + baseUrl + <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-ui/index.html</span><span class="delimiter">&quot;</span></span>);
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>For WebFlux <a href="https://github.com/springfox/springfox/blob/master/springfox-boot-starter/src/main/java/springfox/boot/starter/autoconfigure/SwaggerUiWebFluxConfigurer.java">SwagggerUIWebMvcConfigurer.java</a></p>
</div>
<div id="jackson-convention-example-1" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td>
  <td class="code"><pre><span class="directive">public</span> <span class="type">class</span> <span class="class">SwaggerUiWebFluxConfigurer</span> <span class="directive">implements</span> WebFluxConfigurer {
  <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> baseUrl;

  <span class="directive">public</span> SwaggerUiWebFluxConfigurer(<span class="predefined-type">String</span> baseUrl) {
    <span class="local-variable">this</span>.baseUrl = baseUrl;
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {
    <span class="predefined-type">String</span> baseUrl = StringUtils.trimTrailingCharacter(<span class="local-variable">this</span>.baseUrl, <span class="string"><span class="delimiter">'</span><span class="content">/</span><span class="delimiter">'</span></span>);
    registry.
        addResourceHandler(baseUrl + <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-ui/**</span><span class="delimiter">&quot;</span></span>)
        .addResourceLocations(<span class="string"><span class="delimiter">&quot;</span><span class="content">classpath:/META-INF/resources/webjars/springfox-swagger-ui/</span><span class="delimiter">&quot;</span></span>)
        .resourceChain(<span class="predefined-constant">false</span>);
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="quick-start-guides"><a class="anchor" href="#quick-start-guides"></a>3. Quick start guides</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="springfox-spring-mvc-and-spring-boot"><a class="anchor" href="#springfox-spring-mvc-and-spring-boot"></a>3.1. Springfox Spring MVC and Spring Boot</h3>
<div id="getting-started-spring-boot" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
</pre></td>
  <td class="code"><pre><span class="comment">/*
 *
 *  Copyright 2015-2018 the original author or authors.
 *
 *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 *
 */</span>

<span class="keyword">package</span> <span class="namespace">springfox.springconfig</span>;

<span class="keyword">import</span> <span class="include">com.fasterxml.classmate.TypeResolver</span>;
<span class="keyword">import</span> <span class="include">org.joda.time.LocalDate</span>;
<span class="keyword">import</span> <span class="include">org.springframework.beans.factory.annotation.Autowired</span>;
<span class="keyword">import</span> <span class="include">org.springframework.boot.SpringApplication</span>;
<span class="keyword">import</span> <span class="include">org.springframework.boot.autoconfigure.SpringBootApplication</span>;
<span class="keyword">import</span> <span class="include">org.springframework.context.annotation.Bean</span>;
<span class="keyword">import</span> <span class="include">org.springframework.context.annotation.ComponentScan</span>;
<span class="keyword">import</span> <span class="include">org.springframework.http.HttpMethod</span>;
<span class="keyword">import</span> <span class="include">org.springframework.http.MediaType</span>;
<span class="keyword">import</span> <span class="include">org.springframework.http.ResponseEntity</span>;
<span class="keyword">import</span> <span class="include">org.springframework.web.context.request.async.DeferredResult</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.builders.PathSelectors</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.builders.RequestHandlerSelectors</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.builders.ResponseBuilder</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.schema.ScalarType</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.schema.WildcardType</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.service.ApiKey</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.service.AuthorizationScope</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.service.ParameterType</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.service.SecurityReference</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.service.Tag</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.spi.DocumentationType</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.spi.service.contexts.SecurityContext</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.spring.web.plugins.Docket</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger.web.DocExpansion</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger.web.ModelRendering</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger.web.OperationsSorter</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger.web.SecurityConfiguration</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger.web.SecurityConfigurationBuilder</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger.web.TagsSorter</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger.web.UiConfiguration</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger.web.UiConfigurationBuilder</span>;
<span class="keyword">import</span> <span class="include">springfox.documentation.swagger2.annotations.EnableSwagger2</span>;
<span class="keyword">import</span> <span class="include">springfox.petstore.controller.PetController</span>;

<span class="keyword">import</span> <span class="include">java.util.List</span>;

<span class="keyword">import</span> <span class="include">static</span> <span class="include">java.util.Collections</span>.*;
<span class="keyword">import</span> <span class="include">static</span> <span class="include">springfox.documentation.schema.AlternateTypeRules</span>.*;


<span class="annotation">@SpringBootApplication</span>
<span class="annotation">@EnableSwagger2</span> <i class="conum" data-value="1"></i><b>(1)</b>
<span class="annotation">@ComponentScan</span>(basePackageClasses = {
    PetController.class
})<i class="conum" data-value="2"></i><b>(2)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Swagger2SpringBoot</span> {

  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    SpringApplication.run(Swagger2SpringBoot.class, args);
  }


  <span class="annotation">@Bean</span>
  <span class="directive">public</span> Docket petApi() {
    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)<i class="conum" data-value="3"></i><b>(3)</b>
        .select() <i class="conum" data-value="4"></i><b>(4)</b>
        .apis(RequestHandlerSelectors.any()) <i class="conum" data-value="5"></i><b>(5)</b>
        .paths(PathSelectors.any()) <i class="conum" data-value="6"></i><b>(6)</b>
        .build() <i class="conum" data-value="7"></i><b>(7)</b>
        .pathMapping(<span class="string"><span class="delimiter">&quot;</span><span class="content">/</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="8"></i><b>(8)</b>
        .directModelSubstitute(LocalDate.class, <span class="predefined-type">String</span>.class) <i class="conum" data-value="9"></i><b>(9)</b>
        .genericModelSubstitutes(ResponseEntity.class)
        .alternateTypeRules(
            newRule(typeResolver.resolve(DeferredResult.class,
                typeResolver.resolve(ResponseEntity.class, <span class="predefined-type">WildcardType</span>.class)),
                typeResolver.resolve(<span class="predefined-type">WildcardType</span>.class))) <i class="conum" data-value="10"></i><b>(10)</b>
        .useDefaultResponseMessages(<span class="predefined-constant">false</span>) <i class="conum" data-value="11"></i><b>(11)</b>
        .globalResponses(HttpMethod.GET, <i class="conum" data-value="12"></i><b>(12)</b>
            singletonList(<span class="keyword">new</span> ResponseBuilder()
                .code(<span class="string"><span class="delimiter">&quot;</span><span class="content">500</span><span class="delimiter">&quot;</span></span>)
                .description(<span class="string"><span class="delimiter">&quot;</span><span class="content">500 message</span><span class="delimiter">&quot;</span></span>)
                .representation(MediaType.TEXT_XML)
                .apply(r -&gt;
                    r.model(m -&gt;
                        m.referenceModel(ref -&gt;
                            ref.key(k -&gt;
                                k.qualifiedModelName(q -&gt;
                                    q.namespace(<span class="string"><span class="delimiter">&quot;</span><span class="content">some:namespace</span><span class="delimiter">&quot;</span></span>)
                                        .name(<span class="string"><span class="delimiter">&quot;</span><span class="content">ERROR</span><span class="delimiter">&quot;</span></span>)))))) <i class="conum" data-value="13"></i><b>(13)</b>
                .build()))
        .securitySchemes(singletonList(apiKey())) <i class="conum" data-value="14"></i><b>(14)</b>
        .securityContexts(singletonList(securityContext())) <i class="conum" data-value="15"></i><b>(15)</b>
        .enableUrlTemplating(<span class="predefined-constant">true</span>) <i class="conum" data-value="21"></i><b>(21)</b>
        .globalRequestParameters(<i class="conum" data-value="22"></i><b>(22)</b>
            singletonList(<span class="keyword">new</span> springfox.documentation.builders.RequestParameterBuilder()
                .name(<span class="string"><span class="delimiter">&quot;</span><span class="content">someGlobalParameter</span><span class="delimiter">&quot;</span></span>)
                .description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Description of someGlobalParameter</span><span class="delimiter">&quot;</span></span>)
                .in(ParameterType.QUERY)
                .required(<span class="predefined-constant">true</span>)
                .query(q -&gt; q.model(m -&gt; m.scalarModel(ScalarType.STRING)))
                .build()))
        .tags(<span class="keyword">new</span> Tag(<span class="string"><span class="delimiter">&quot;</span><span class="content">Pet Service</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">All apis relating to pets</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="23"></i><b>(23)</b>
        .additionalModels(typeResolver.resolve(AdditionalModel.class)); <i class="conum" data-value="24"></i><b>(24)</b>
  }

  <span class="annotation">@Autowired</span>
  <span class="directive">private</span> TypeResolver typeResolver;

  <span class="directive">private</span> ApiKey apiKey() {
    <span class="keyword">return</span> <span class="keyword">new</span> ApiKey(<span class="string"><span class="delimiter">&quot;</span><span class="content">mykey</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">api_key</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">header</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="16"></i><b>(16)</b>
  }

  <span class="directive">private</span> SecurityContext securityContext() {
    <span class="keyword">return</span> SecurityContext.builder()
        .securityReferences(defaultAuth())
        .forPaths(PathSelectors.regex(<span class="string"><span class="delimiter">&quot;</span><span class="content">/anyPath.*</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="17"></i><b>(17)</b>
        .build();
  }

  <span class="predefined-type">List</span>&lt;SecurityReference&gt; defaultAuth() {
    AuthorizationScope authorizationScope
        = <span class="keyword">new</span> AuthorizationScope(<span class="string"><span class="delimiter">&quot;</span><span class="content">global</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">accessEverything</span><span class="delimiter">&quot;</span></span>);
    AuthorizationScope<span class="type">[]</span> authorizationScopes = <span class="keyword">new</span> AuthorizationScope[<span class="integer">1</span>];
    authorizationScopes[<span class="integer">0</span>] = authorizationScope;
    <span class="keyword">return</span> singletonList(
        <span class="keyword">new</span> SecurityReference(<span class="string"><span class="delimiter">&quot;</span><span class="content">mykey</span><span class="delimiter">&quot;</span></span>, authorizationScopes)); <i class="conum" data-value="18"></i><b>(18)</b>
  }

  <span class="annotation">@Bean</span>
  SecurityConfiguration security() {
    <span class="keyword">return</span> SecurityConfigurationBuilder.builder() <i class="conum" data-value="19"></i><b>(19)</b>
        .clientId(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-app-client-id</span><span class="delimiter">&quot;</span></span>)
        .clientSecret(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-app-client-secret</span><span class="delimiter">&quot;</span></span>)
        .realm(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-app-realm</span><span class="delimiter">&quot;</span></span>)
        .appName(<span class="string"><span class="delimiter">&quot;</span><span class="content">test-app</span><span class="delimiter">&quot;</span></span>)
        .scopeSeparator(<span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>)
        .additionalQueryStringParams(<span class="predefined-constant">null</span>)
        .useBasicAuthenticationWithAccessCodeGrant(<span class="predefined-constant">false</span>)
        .enableCsrfSupport(<span class="predefined-constant">false</span>)
        .build();
  }

  <span class="annotation">@Bean</span>
  UiConfiguration uiConfig() {
    <span class="keyword">return</span> UiConfigurationBuilder.builder() <i class="conum" data-value="20"></i><b>(20)</b>
        .deepLinking(<span class="predefined-constant">true</span>)
        .displayOperationId(<span class="predefined-constant">false</span>)
        .defaultModelsExpandDepth(<span class="integer">1</span>)
        .defaultModelExpandDepth(<span class="integer">1</span>)
        .defaultModelRendering(ModelRendering.EXAMPLE)
        .displayRequestDuration(<span class="predefined-constant">false</span>)
        .docExpansion(DocExpansion.NONE)
        .filter(<span class="predefined-constant">false</span>)
        .maxDisplayedTags(<span class="predefined-constant">null</span>)
        .operationsSorter(OperationsSorter.ALPHA)
        .showExtensions(<span class="predefined-constant">false</span>)
        .showCommonExtensions(<span class="predefined-constant">false</span>)
        .tagsSorter(TagsSorter.ALPHA)
        .supportedSubmitMethods(UiConfiguration.Constants.DEFAULT_SUBMIT_METHODS)
        .validatorUrl(<span class="predefined-constant">null</span>)
        .build();
  }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="configuration-explained"><a class="anchor" href="#configuration-explained"></a>3.2. Configuration explained</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This library extensively uses <a href="https://github.com/google/guava">googles guava library</a>. For e.g. when you
see <code>newArrayList(&#8230;&#8203;)</code> its actually the guava equivalent of creating an normal array list and adding item(s) to it.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="comment">//This guava code snippet</span>
<span class="predefined-type">List</span>&lt;Something&gt; guavaList = newArrayList(<span class="keyword">new</span> Something());

<span class="comment">//... is equivalent to</span>
<span class="predefined-type">List</span>&lt;Something&gt; list = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();
list.add(<span class="keyword">new</span> Something());</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enables Springfox swagger 2</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Instructs spring where to scan for API controllers</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>Docket</code>, Springfox&#8217;s, primary api configuration mechanism is initialized for swagger specification 2.0</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>select()</code> returns an instance of <code>ApiSelectorBuilder</code> to give fine grained control over the endpoints exposed
via swagger.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>apis()</code> allows selection of <code>RequestHandler</code>'s using a predicate. The example here uses an <code>any</code> predicate
(default). Out of the box predicates provided are <code>any</code>, <code>none</code>, <code>withClassAnnotation</code>, <code>withMethodAnnotation</code> and
<code>basePackage</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>paths()</code> allows selection of <code>Path</code>'s using a predicate. The example here uses an <code>any</code> predicate (default). Out of the box we provide predicates for <code>regex</code>, <code>ant</code>, <code>any</code>, <code>none</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>The selector needs to be built after configuring the api and path selectors.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Adds a servlet path mapping, when the servlet has a path mapping.
This prefixes paths with the provided path mapping.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Convenience rule builder that substitutes <code>LocalDate</code> with <code>String</code> when rendering model properties</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Convenience rule builder that substitutes a generic type with one type parameter with the type
parameter. In this example <code>ResponseEntity&lt;T&gt;</code> with <code>T</code>.
<code>alternateTypeRules</code> allows custom rules that are a bit more involved.
The example substitutes  <code>DeferredResult&lt;ResponseEntity&lt;T&gt;&gt;</code>  with <code>T</code> generically.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>Flag to indicate if default http response codes need to be used or not.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>Allows globally overriding response messages for different http methods. In this example we override the 500
error code for all <code>GET</code> requests &#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td>&#8230;&#8203; and indicate that it will use the response model <code>Error</code> (which will be defined elsewhere)</td>
</tr>
<tr>
<td><i class="conum" data-value="14"></i><b>14</b></td>
<td>Sets up the security schemes used to protect the apis. Supported schemes are ApiKey, BasicAuth and OAuth</td>
</tr>
<tr>
<td><i class="conum" data-value="15"></i><b>15</b></td>
<td>Provides a way to globally set up security contexts for operation. The idea here is that we provide a way to
select operations to be protected by one of the specified security schemes.</td>
</tr>
<tr>
<td><i class="conum" data-value="16"></i><b>16</b></td>
<td>Here we use ApiKey as the security schema that is identified by the name <code>mykey</code></td>
</tr>
<tr>
<td><i class="conum" data-value="17"></i><b>17</b></td>
<td>Selector for the paths this security context applies to.</td>
</tr>
<tr>
<td><i class="conum" data-value="18"></i><b>18</b></td>
<td>Here we use the same key defined in the security scheme <code>mykey</code></td>
</tr>
<tr>
<td><i class="conum" data-value="19"></i><b>19</b></td>
<td>Optional swagger-ui security configuration for oauth and apiKey settings</td>
</tr>
<tr>
<td><i class="conum" data-value="20"></i><b>20</b></td>
<td>Optional swagger-ui ui configuration currently only supports the validation url</td>
</tr>
<tr>
<td><i class="conum" data-value="21"></i><b>21</b></td>
<td>* <em>Incubating</em> * setting this flag signals to the processor that the paths generated should try and use
<a href="https://tools.ietf.org/html/rfc6570#section-3.2.8">form style query expansion</a>. As a result we could distinguish paths
 that have the same path stem but different query string combinations. An example of this would be two apis:
First, <a href="http://example.org/findCustomersBy?name=Test" class="bare">http://example.org/findCustomersBy?name=Test</a> to find customers by name.
Per <a href="https://tools.ietf.org/html/rfc6570">RFC 6570</a>,
this would be represented as <a href="http://example.org/findCustomersBy{?name}" class="bare">http://example.org/findCustomersBy{?name}</a>.
Second, <a href="http://example.org/findCustomersBy?zip=76051" class="bare">http://example.org/findCustomersBy?zip=76051</a> to find customers by zip.
Per <a href="https://tools.ietf.org/html/rfc6570">RFC 6570</a>,
this would be represented as <a href="http://example.org/findCustomersBy{?zip}" class="bare">http://example.org/findCustomersBy{?zip}</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="22"></i><b>22</b></td>
<td>Allows globally configuration of default path-/request-/headerparameters which are common for every rest operation of the api, but aren`t needed in spring controller method signature (for example authenticaton information). Parameters added here will be part of every API Operation in the generated swagger specification.
on how the security is setup the name of the header used may need to be different. Overriding this value is a way to
override the default behavior.</td>
</tr>
<tr>
<td><i class="conum" data-value="23"></i><b>23</b></td>
<td>Adding tags is a way to define all the available tags that services/operations can opt into. Currently this only
has name and description.</td>
</tr>
<tr>
<td><i class="conum" data-value="24"></i><b>24</b></td>
<td>Are there models in the application that are not "reachable"? Not reachable is when we have models that we would
like to be described but aren&#8217;t explicitly used in any operation. An example of this is an operation that returns a
model serialized as a string. We do want to communicate the expectation of the schema for the string. This is a way
to do exactly that.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are plenty of more options to configure the <code>Docket</code>. This should provide a good start.</p>
</div>
</div>
<div class="sect2">
<h3 id="springfox-spring-data-rest"><a class="anchor" href="#springfox-spring-data-rest"></a>3.3. Springfox Spring Data Rest</h3>
<div class="paragraph">
<p>In version greater than 2.6.0, support for spring data rest was added.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This is still in <strong><strong>incubation</strong></strong>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In order to use it (non-spring-boot)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>add the <code>springfox-data-rest</code> dependency (via Gradle or Maven).</p>
</li>
<li>
<p>Import the configuration from the <code>springfox-data-rest</code> module (via Java or xml config) as shown below</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="gradle-2"><a class="anchor" href="#gradle-2"></a>3.3.1. Gradle</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    implementation <span class="string"><span class="delimiter">&quot;</span><span class="content">io.springfox:springfox-data-rest:3.0.0</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="maven-2"><a class="anchor" href="#maven-2"></a>3.3.2. Maven</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>io.springfox<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>springfox-data-rest<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="java-config"><a class="anchor" href="#java-config"></a>3.3.3. java config</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//For java config</span>
<span class="annotation">@Import</span>({ ... springfox.documentation.spring.data.rest.configuration.SpringDataRestConfiguration.class, ...})</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xml-config"><a class="anchor" href="#xml-config"></a>3.3.4. xml config</h4>
<div class="paragraph">
<p>Import the bean in your xml configuration by defining a bean of the following type</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;bean</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">springfox.documentation.spring.data.rest.configuration.SpringDataRestConfiguration.class</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
for spring boot, this section is not needed. Springfox will autoconfigure itself based on the detection of spring
data rest components.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="springfox-support-for-jsr-303"><a class="anchor" href="#springfox-support-for-jsr-303"></a>3.4. Springfox Support for JSR-303</h3>
<div class="paragraph">
<p>In version greater than 2.3.2, support for bean validation annotations was added, specifically for @NotNull, @Min,
@Max, and @Size.</p>
</div>
<div class="paragraph">
<p>In order to use it</p>
</div>
<div class="ulist">
<ul>
<li>
<p>add the <code>springfox-bean-validators</code> dependency.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="gradle-3"><a class="anchor" href="#gradle-3"></a>3.4.1. Gradle</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    implementation <span class="string"><span class="delimiter">&quot;</span><span class="content">io.springfox:springfox-bean-validators:3.0.0</span><span class="delimiter">&quot;</span></span>
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="maven-3"><a class="anchor" href="#maven-3"></a>3.4.2. Maven</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>io.springfox<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>springfox-bean-validators<span class="tag">&lt;/artifactId&gt;</span>
    <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Import the configuration from the <code>springfox-bean-validators</code> module as shown below</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="java-config-2"><a class="anchor" href="#java-config-2"></a>3.4.3. java config</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">//For java config</span>
<span class="annotation">@Import</span>({ ... springfox.bean.validators.configuration.BeanValidatorPluginsConfiguration.class, ...})</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="xml-config-2"><a class="anchor" href="#xml-config-2"></a>3.4.4. xml config</h4>
<div class="paragraph">
<p>Import the bean in your xml configuration by defining a bean of the following type</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;bean</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">springfox.bean.validators.configuration.BeanValidatorPluginsConfiguration</span><span class="delimiter">&quot;</span></span> <span class="tag">/&gt;</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="springfox-swagger-ui"><a class="anchor" href="#springfox-swagger-ui"></a>3.5. Springfox Swagger UI</h3>
<div class="paragraph">
<p>The <code>springfox-swagger-ui</code> <a href="http://www.webjars.org/">web jar</a> ships with <a href="https://github.com/swagger-api/swagger-ui">Swagger UI</a>. To include it in a standard
Spring Boot application you can add the dependency as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    compile <span class="string"><span class="delimiter">'</span><span class="content">io.springfox:springfox-swagger-ui:3.0.0</span><span class="delimiter">'</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pulling in the dependency creates a webjar containing the swagger-ui static content. It adds a JSON endpoint
<code>/swagger-resources</code> which lists all of the swagger resources and versions configured for a given
application. The Swagger UI page should then be available at <a href="http://localhost:8080/swagger-ui.html" class="bare">http://localhost:8080/swagger-ui.html</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/springfox-swagger-ui.png" alt="Swagger UI">
</div>
</div>
<div class="paragraph">
<p>The swagger ui version is specified in ./build.gradle where <code>swaggerUiVersion</code> is a git tag on the
https:// github.com/swagger-api/swagger-ui[swagger-ui repo].</p>
</div>
<div class="paragraph">
<p>All content is served from a webjar convention, relative url taking the following form:
<code>webjars/springfox-swagger-ui/3.0.0/swagger-ui.html</code></p>
</div>
<div class="paragraph">
<p>By default Spring Boot has sensible defaults for serving content from webjars. To configure vanilla spring web mvc
apps to serve webjar content see the <a href="http://www.webjars.org/documentation#springmvc">webjar documentation</a></p>
</div>
<div class="paragraph">
<p>Swagger-Ui that comes bundled with springfox uses <em>meta-urls</em> to configure itself and discover documented endpoints.
The urls for the discovery are as shown below.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Url</th>
<th class="tableblock halign-left valign-top">New Url in 2.5.+</th>
<th class="tableblock halign-left valign-top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/configuration/security</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/swagger-resources/configuration/security</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuring swagger-ui security</p></td>
</tr>
</tbody>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/configuration/ui</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/swagger-resources/configuration/ui</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuring swagger-ui options</p></td>
</tr>
</tfoot>
</table>
<div class="paragraph">
<p>Since swagger ui is a static resource it needs to rely on <strong>known</strong> endpoints to configure itself at runtime. So these
 are <strong>*cool uris</strong> that cannot change. There is <a href="#q13">some customization</a> that is possible, but swagger-ui needs
to be available at the root of the <em>webcontext</em>.</p>
</div>
<div class="paragraph">
<p>Regarding <a href="http://springfox.github.io/springfox/docs/current/#q13">where swagger-ui itself is served</a>
and <a href="http://springfox.github.io/springfox/docs/current/#customizing-the-swagger-endpoints">where the api docs are served</a>
those are totally configurable.</p>
</div>
</div>
<div class="sect2">
<h3 id="springfox-rfc6570-support"><a class="anchor" href="#springfox-rfc6570-support"></a>3.6. Springfox RFC6570 support</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Support has been dropped experimental feature as swagger-ui and the spec itself has better support for this.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Turn enableUrlTemplating <code>OFF</code>; (<a href="http://springfox.github.io/springfox/docs/current/#springfox-swagger2-with-spring-mvc-and-spring-boot">see #21</a>)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="springfox-spring-integration-support-incubating"><a class="anchor" href="#springfox-spring-integration-support-incubating"></a>3.7. Springfox Spring-Integration Support <strong>incubating</strong></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>Keep in mind this is experimental</em>!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As of Springfox 3.0 we offer experimental support for Spring Integration http inbound endpoints.</p>
</div>
<div class="paragraph">
<p>The current implementation produces documentation for your endpoints, as far as possible automatically, based on static code analysis.
Since the ultimate http responses in spring-integration cannot be determined statically from an http inbound endpoint,
we use spring-restdocs to provide response body examples.</p>
</div>
<div class="paragraph">
<p>We consider the
support experimental because it has not been tested with a wide range of spring-integration applications and because we
have only started to evaluate the possibilities we have with spring-restdocs.</p>
</div>
<div class="paragraph">
<p>Depending on which web technology you choose, you need to include the appropriate <code>springfox-spring-integration-webflux</code>
or <code>springfox-spring-integration-webmvc</code> dependency and use its respective tooling to produce documentation for your http
responses, based on <a href="https://spring.io/projects/spring-restdocs">spring-restdocs</a>.</p>
</div>
<div class="paragraph">
<p>See the readme for <a href="https://github.com/springfox/springfox/tree/master/springfox-spring-integration-webmvc">springfox-spring-integration-webmvc</a> and
<a href="https://github.com/springfox/springfox/tree/master/springfox-spring-integration-webflux">springfox-spring-integration-webflux</a> for details.</p>
</div>
</div>
<div class="sect2">
<h3 id="securing-swagger-ui"><a class="anchor" href="#securing-swagger-ui"></a>3.8. Securing swagger-ui</h3>
<div class="paragraph">
<p><a href="https://github.com/springfox/springfox/issues/2191#issuecomment-359159833">The user contributed example</a> uses OAuth2 and
cookies-based auth in the browser. (Credit: <a href="https://github.com/evser">@evser</a>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">       <span class="directive">protected</span> <span class="type">void</span> configure(HttpSecurity http) <span class="directive">throws</span> <span class="exception">Exception</span> {
    http.authorizeRequests()
        .anyRequest().authenticated()
        .and().exceptionHandling().accessDeniedHandler(<span class="keyword">new</span> AccessDeniedHandlerImpl())
        .and().logout().logoutSuccessHandler(<span class="keyword">new</span> HttpStatusReturningLogoutSuccessHandler())
        .and().csrf().csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())
        .and()
        .addFilterBefore(ssoFilter(ApplicationConfiguration.API_BASE_PATH + <span class="string"><span class="delimiter">&quot;</span><span class="content">/login</span><span class="delimiter">&quot;</span></span>), BasicAuthenticationFilter.class)
        .requiresChannel().anyRequest().requireSecure();
  }

  <span class="annotation">@Bean</span>
  <span class="directive">public</span> FilterRegistrationBean oauth2ClientFilterRegistration(OAuth2ClientContextFilter filter) {
    FilterRegistrationBean frb = <span class="keyword">new</span> FilterRegistrationBean();
    frb.setFilter(filter);
    frb.setOrder(SecurityProperties.DEFAULT_FILTER_ORDER);
    <span class="keyword">return</span> frb;
  }

  <span class="annotation">@Bean</span>
  <span class="annotation">@ConfigurationProperties</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">oauth2.client</span><span class="delimiter">&quot;</span></span>)
  <span class="directive">public</span> OAuth2ProtectedResourceDetails authDetails() {
    <span class="keyword">return</span> <span class="keyword">new</span> AuthorizationCodeResourceDetails();
  }

  <span class="annotation">@Bean</span>
  <span class="directive">public</span> SecurityConfiguration swaggerSecurityConfiguration() {
    <span class="keyword">return</span> <span class="keyword">new</span> SecurityConfiguration(<span class="string"><span class="delimiter">&quot;</span><span class="content">client-id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">client-secret</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">realm</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">{{X-XSRF-COOKIE}}</span><span class="delimiter">&quot;</span></span>, ApiKeyVehicle.HEADER, <span class="string"><span class="delimiter">&quot;</span><span class="content">X-XSRF-TOKEN</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>);
  }

  <span class="directive">private</span> <span class="predefined-type">Filter</span> ssoFilter(<span class="predefined-type">String</span> path) {
    OAuth2ClientAuthenticationProcessingFilter oAuth2ClientAuthenticationFilter = <span class="keyword">new</span> OAuth2ClientAuthenticationProcessingFilter(path);
    OAuth2RestTemplate oAuth2RestTemplate = <span class="keyword">new</span> OAuth2RestTemplate(authDetails(), oauth2ClientContext);
    DefaultRedirectStrategy defaultRedirectStrategy = <span class="keyword">new</span> DefaultRedirectStrategy();
    oAuth2ClientAuthenticationFilter.setRestTemplate(oAuth2RestTemplate);
    oAuth2ClientAuthenticationFilter.setTokenServices(resourceServerTokenServices);
    oAuth2ClientAuthenticationFilter.setAuthenticationSuccessHandler(
        (request, response, authentication) -&gt; {
          <span class="predefined-type">String</span> redirectUrl = request.getParameter(REDIRECT_URL_PARAM);
          <span class="keyword">if</span> (redirectUrl == <span class="predefined-constant">null</span>) {
            redirectUrl = DEFAULT_REDIRECT_URL;
          } <span class="keyword">else</span> {
            <span class="keyword">if</span> (!redirectUrlValidator.validateRedirectUrl(redirectUrl)) {
              request.setAttribute(MESSAGE_ATTRIBUTE_NAME,
                  messageSource.getMessage(<span class="string"><span class="delimiter">&quot;</span><span class="content">ivalid.redirect.url</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">String</span><span class="type">[]</span> { redirectUrl }, LocaleContextHolder.getLocale()));
              response.sendError(HttpStatus.FORBIDDEN.value());
            }
          }
          defaultRedirectStrategy.sendRedirect(request, response, redirectUrl);
        });
    <span class="keyword">return</span> oAuth2ClientAuthenticationFilter;
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>And configure the Docket to be secured via the <code>AUTHORIZATION</code> header:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@Bean</span>
  <span class="directive">public</span> Docket api() <span class="directive">throws</span> <span class="exception">IOException</span>, <span class="exception">URISyntaxException</span> {
    <span class="directive">final</span> <span class="predefined-type">List</span>&lt;ResponseMessage&gt; globalResponses = <span class="predefined-type">Arrays</span>.asList(
        <span class="keyword">new</span> ResponseMessageBuilder()
            .code(<span class="integer">200</span>)
            .message(<span class="string"><span class="delimiter">&quot;</span><span class="content">OK</span><span class="delimiter">&quot;</span></span>)
            .build(),
        <span class="keyword">new</span> ResponseMessageBuilder()
            .code(<span class="integer">400</span>)
            .message(<span class="string"><span class="delimiter">&quot;</span><span class="content">Bad Request</span><span class="delimiter">&quot;</span></span>)
            .build(),
        <span class="keyword">new</span> ResponseMessageBuilder()
            .code(<span class="integer">500</span>)
            .message(<span class="string"><span class="delimiter">&quot;</span><span class="content">Internal Error</span><span class="delimiter">&quot;</span></span>)
            .build());
    <span class="directive">final</span> ApiInfo apiInfo = <span class="keyword">new</span> ApiInfo(<span class="string"><span class="delimiter">&quot;</span><span class="content">REST API</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">BufferedReader</span>(<span class="keyword">new</span> <span class="predefined-type">InputStreamReader</span>(getClass().getResourceAsStream(CHANGELOG_FILENAME)))
        .lines()
        .collect(Collectors.joining(<span class="predefined-type">System</span>.lineSeparator())),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0.0-RC1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> Contact(<span class="string"><span class="delimiter">&quot;</span><span class="content">team</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">bla@bla.com</span><span class="delimiter">&quot;</span></span>), <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">Collections</span>.emptyList());
    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2),
        .securitySchemes(<span class="predefined-type">Arrays</span>.asList(<span class="keyword">new</span> ApiKey(<span class="string"><span class="delimiter">&quot;</span><span class="content">Token Access</span><span class="delimiter">&quot;</span></span>, HttpHeaders.AUTHORIZATION, In.HEADER.name()))))
        .useDefaultResponseMessages(<span class="predefined-constant">false</span>)
        .globalResponseMessage(RequestMethod.GET, globalResponses)
        .globalResponseMessage(RequestMethod.POST, globalResponses)
        .globalResponseMessage(RequestMethod.DELETE, globalResponses)
        .globalResponseMessage(RequestMethod.PATCH, globalResponses)
        .select()
        .apis(RequestHandlerSelectors.basePackage(<span class="string"><span class="delimiter">&quot;</span><span class="content">com.controller</span><span class="delimiter">&quot;</span></span>))
        .build()
        .apiInfo(apiInfo)
        .directModelSubstitute(Temporal.class, <span class="predefined-type">String</span>.class);
  }</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="springfox-samples"><a class="anchor" href="#springfox-samples"></a>3.9. Springfox samples</h3>
<div class="paragraph">
<p>The <a href="https://github.com/springfox/springfox-demos">springfox-demos</a> repository contains a number of samples.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="architecture"><a class="anchor" href="#architecture"></a>4. Architecture</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="background"><a class="anchor" href="#background"></a>4.1. Background</h3>
<div class="paragraph">
<p>When we started work on 2.0 swagger specification we realized that we&#8217;re rewriting the logic to infer the service
 models and the schema. So we decided to take a step back and break it out into a two step process. First infer the service
 model into an internal representation. Second create a mapping layer that can map the internal models to different specification formats.
 Out of the box we will support swagger 1.2 and swagger 2.0, but this leads us to the possibility of supporting other formats and
 other scenarios as well e.g. RAML, ALPS and hypermedia formats.</p>
</div>
</div>
<div class="sect2">
<h3 id="component-model"><a class="anchor" href="#component-model"></a>4.2. Component Model</h3>
<div class="paragraph">
<p>The different Springfox modules are split up as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="ascii">  +-----------------------------------------------------------------------------------------+
  |                                  springfox-core                                         |
  |                                                                                         |
  | Contains the internal service and schema description models along with their builders.  |
  +------------------------------------------+----------------------------------------------+
                                             ^
  +------------------------------------------+----------------------------------------------+
  |                                  springfox-spi                                          |
  |                                                                                         |
  | Contains the service provider interfaces that can be used to extend and enrich the      |
  | service models, e.g. swagger specific annotation processors.                            |
  +------------------------------------------+----------------------------------------------+
                                             |
                                             |
                  +--------------------------|------------------------+
                  |                          |                        |
  +----------------------------------+       |       +--------------------------------------+
  |        springfox-schema          |       |       |         springfox-spring-web         |
  |                                  |       |       |                                      |
  | Schema inference extensions that |       |       | spring web specific extensions that  |
  | help build up the schema for the |       |       | can build the service models based   |
  | parameters, models and responses |       |       | on RequestMapping information.       |
  +----------------------------------+       |       | This is the heart library that       |
                                             |       | infers the service model.            |
                                             |       +--------------------------------------+
                                             |
        +------------------------------------+------------------------------------+
        |                         springfox-swagger-common                        |
        |                                                                         |
        | Common swagger specific extensions that are aware of the different      |
        | swagger annotations.                                                    |
        +----------+--------------------------------------------------------------+
                   ^                          ^                        ^
        +----------+---------+     +----------+---------+     +-----...
        |                    |     |                    |     |
        | springfox-swagger1 |     | springfox-swagger2 |     |
        |                    |     |                    |     |
        +--------------------+     +--------------------+     +-----...

         Configurations, and mapping layer that know how to convert the service models
         to swagger 1.2 and swagger 2.0 specification documents.
         Also contains the controller for each of the specific formats.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="swagger"><a class="anchor" href="#swagger"></a>5. Swagger</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Springfox supports both version <a href="https://github.com/swagger-api/swagger-spec/blob/master/versions/1.2.md">1.2</a> and version
<a href="https://github.com/swagger-api/swagger-spec/blob/master/versions/2.0.md">2.0</a> of the <a href="http://swagger.io/">Swagger</a> specification.
Where possible, the Swagger 2.0 specification is preferable.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/swagger-api/swagger-core/wiki/Annotations">swagger-core annotations</a>, as provided by
<a href="https://github.com/swagger-api/swagger-core">swagger-core</a>, are typically used to decorate the java source code of an API which is being
'swaggered'. Springfox is aware of the Swagger-Core Annotations and will favor those annotations over inferred defaults.</p>
</div>
<div class="sect2">
<h3 id="swagger-1-2-vs-swagger-2-0"><a class="anchor" href="#swagger-1-2-vs-swagger-2-0"></a>5.1. Swagger 1.2 vs Swagger 2.0</h3>
<div class="paragraph">
<p>One major difference between the two swagger specification is the composition of the generated swagger documentation.</p>
</div>
<div class="paragraph">
<p>With Swagger 1.2 an applications API is represented as a <code>Resource Listing</code> and multiple <code>API Declarations</code> which has the
implication of producing <a href="https://github.com/swagger-api/swagger-spec/blob/master/versions/1.2.md#42-file-structure">multiple JSON files</a></p>
</div>
<div class="paragraph">
<p>With Swagger 2.0 things are much simpler and an application&#8217;s API can be represented in a single JSON file.</p>
</div>
</div>
<div class="sect2">
<h3 id="moving-from-swagger-springmvc"><a class="anchor" href="#moving-from-swagger-springmvc"></a>5.2. Moving from swagger-springmvc?</h3>
<div class="paragraph">
<p>Here is <a href="https://github.com/springfox/springfox/blob/master/docs/transitioning-to-v2.md">a guide</a> to help with the
transition from 1.0.2 to 2.0.</p>
</div>
<div class="paragraph">
<p>Legacy documentation is <a href="https://github.com/springfox/springfox/blob/v1.0.2/README.md">available here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="springfox-configuration-and-demo-applications"><a class="anchor" href="#springfox-configuration-and-demo-applications"></a>5.3. Springfox configuration and demo applications</h3>
<div class="paragraph">
<p>The <a href="https://github.com/springfox/springfox-demos">springfox-demos</a> repository contains a number of sample Spring application
which can be used a reference.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-springfox"><a class="anchor" href="#configuring-springfox"></a>6. Configuring Springfox</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To enable support for swagger specification 1.2 use the <code><code>@EnableSwagger</code></code> annotation</p>
</div>
<div class="paragraph">
<p>To enable support for swagger specification 2.0 use the <code><code>@EnableSwagger2</code></code> annotation</p>
</div>
<div class="paragraph">
<p>To document the service we use a <code><code>Docket</code></code>. This is changed to be more inline with the fact that expressing the
contents of the documentation is agnostic of the format the documentation is rendered.</p>
</div>
<div class="paragraph">
<p>Docket <a href="https://www.wordnik.com/words/docket">stands for</a> <strong>A summary or other brief statement of the contents of a
document; an abstract.</strong></p>
</div>
<div class="paragraph">
<p><code>Docket</code> helps configure a  subset of the services to be documented and groups them by name. Significant changes
to this is the ability to provide an expressive predicate based for api selection.</p>
</div>
<div class="listingblock">
<div class="title">Example configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td>
  <td class="code"><pre>  <span class="keyword">import</span> <span class="include">static</span> <span class="include">springfox.documentation.builders.PathSelectors</span>.*;
  <span class="keyword">import</span> <span class="include">static</span> <span class="include">com.google.common.base.Predicates</span>.*;

  <span class="annotation">@Bean</span>
  <span class="directive">public</span> Docket swaggerSpringMvcPlugin() {
    <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)
            .groupName(<span class="string"><span class="delimiter">&quot;</span><span class="content">business-api</span><span class="delimiter">&quot;</span></span>)
            .select()
               <span class="comment">//Ignores controllers annotated with @CustomIgnore</span>
              .apis(not(withClassAnnotation(CustomIgnore.class)) <span class="comment">//Selection by RequestHandler</span>
              .paths(paths()) <span class="comment">// and by paths</span>
              .build()
            .apiInfo(apiInfo())
            .securitySchemes(securitySchemes())
            .securityContext(securityContext());
  }

  <span class="comment">//Here is an example where we select any api that matches one of these paths</span>
  <span class="directive">private</span> <span class="predefined-type">Predicate</span>&lt;<span class="predefined-type">String</span>&gt; paths() {
    <span class="keyword">return</span> or(
        regex(<span class="string"><span class="delimiter">&quot;</span><span class="content">/business.*</span><span class="delimiter">&quot;</span></span>),
        regex(<span class="string"><span class="delimiter">&quot;</span><span class="content">/some.*</span><span class="delimiter">&quot;</span></span>),
        regex(<span class="string"><span class="delimiter">&quot;</span><span class="content">/contacts.*</span><span class="delimiter">&quot;</span></span>),
        regex(<span class="string"><span class="delimiter">&quot;</span><span class="content">/pet.*</span><span class="delimiter">&quot;</span></span>),
        regex(<span class="string"><span class="delimiter">&quot;</span><span class="content">/springsRestController.*</span><span class="delimiter">&quot;</span></span>),
        regex(<span class="string"><span class="delimiter">&quot;</span><span class="content">/test.*</span><span class="delimiter">&quot;</span></span>));
  }</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>For a list of handy predicates Look at <a href="https://github.com/springfox/springfox/blob/master/springfox-core/src/main/java/springfox/documentation/builders/RequestHandlerSelectors.java">RequestHandlerSelectors</a>
and <a href="https://github.com/springfox/springfox/blob/master/springfox-core/src/main/java/springfox/documentation/builders/PathSelectors.java">PathSelectors</a>.</p>
</div>
<div class="sect2">
<h3 id="configuring-the-objectmapper"><a class="anchor" href="#configuring-the-objectmapper"></a>6.1. Configuring the ObjectMapper</h3>
<div class="paragraph">
<p>A simple way to configure the object mapper is to listen for the <code><code>ObjectMapperConfigured</code></code> event. Regardless of
whether there is a customized ObjectMapper in play with a corresponding MappingJackson2HttpMessageConverter, the
library always has a configured ObjectMapper that is customized to serialize swagger 1.2 and swagger 2.0 types.</p>
</div>
<div class="paragraph">
<p>In order to do this implement the <code><code>ApplicationListener&lt;ObjectMapperConfigured&gt;</code></code> interface. The event has a handle
 to the ObjectMapper that was configured. Configuring application specific ObjectMapper customizations in this
 application event handler guarantees that application specific  customizations will be applied to each and every
 ObjectMapper that is in play.</p>
</div>
<div class="paragraph">
<p>If you encounter a NullPointerException during application startup like <a href="https://github.com/springfox/springfox/issues/635">this issue</a>. Its because most likely the <code><code>WebMvcConfigurerAdapter</code></code> isn&#8217;t working.
These adapter especially in a non-spring-boot scenarios will only get loaded if the @EnableWebMvc
<a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/WebMvcConfigurer.html">annotation is present</a>.</p>
</div>
<div class="paragraph">
<p>If using Spring Boot Web MVC, there is no need to use the @EnableWebMvc annotation, as the framework automatically detects Web MVC usage and configures itself as appropriate.
In this scenario, Springfox will not correctly generate and expose the Swagger UI endpoint (<code>/swagger-ui.html</code>) if @EnableWebMvc is present in the application.</p>
</div>
<div class="paragraph">
<p>Caveat to using the library is that it depends on Jackson for serialization, more importantly the <code>ObjectMapper</code>. A
good example of where this breaks down is the following <a href="http://stackoverflow.com/a/30220562/19219">issue when using Gson serialization</a></p>
</div>
</div>
<div class="sect2">
<h3 id="customizing-the-swagger-endpoints"><a class="anchor" href="#customizing-the-swagger-endpoints"></a>6.2. Customizing the swagger endpoints.</h3>
<div class="paragraph">
<p>By default the swagger service descriptions are generated at the following urls</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. api docs default paths</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Swagger version</th>
<th class="tableblock halign-left valign-top">Documentation Url</th>
<th class="tableblock halign-left valign-top">Group</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/api-docs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">implicit <strong>default</strong> group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/api-docs?group=external</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>external</strong> group via docket.groupName()</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/v2/api-docs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">implicit <strong>default</strong> group</p></td>
</tr>
</tbody>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">/v2/api-docs?group=external</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>external</strong> group via docket.groupName()</p></td>
</tr>
</tfoot>
</table>
<div class="paragraph">
<p>To customize these endpoints, loading a <a href="http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/PropertySource.html">property source</a> with the following properties
allows the properties to be  overridden</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. api docs path properties</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Swagger version</th>
<th class="tableblock halign-left valign-top">Override property</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">springfox.documentation.swagger.v1.path</p></td>
</tr>
</tbody>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">springfox.documentation.swagger.v2.path</p></td>
</tr>
</tfoot>
</table>
</div>
<div class="sect2">
<h3 id="configuring-startup"><a class="anchor" href="#configuring-startup"></a>6.3. Configuring startup.</h3>
<div class="paragraph">
<p>If you&#8217;d like to delay the startup of springfox, you could choose to set auto-startup to false. The property to use
is <code>springfox.documentation.auto-startup</code> and this could either be passed in as a <code>-D</code> jvm arg or via a property in
<code>application.yml/properties</code> file.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. startup properties</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Override property</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the default value, which starts scanning for endpoints automatically when
the spring contexts is refreshed.</p></td>
</tr>
</tbody>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This setting starts scanning for endpoints only when when the <code>Lifecycle#start()</code> method is called explicitly.
This is very useful for frameworks like grails that has its own lifecycle. It indicates that the library
user is responsible for starting the <code>DocumentationPluginsBootStrapper</code> lifecycle.</p></td>
</tr>
</tfoot>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Change this default to <code>false</code> with caution. This implies managing the startup of the plugins prior to
requesting the swagger endpoints in a thread-safe manner.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="overriding-descriptions-via-properties"><a class="anchor" href="#overriding-descriptions-via-properties"></a>6.4. Overriding descriptions via properties</h3>
<div class="paragraph">
<p>Added support for resolving properties in property sources to replace expressions in certain annotations. In order to
 use it simply define properties in <code>application.properties</code>, <code>application.yml</code> file or property files in your
 classpath with values that you&#8217;d like to see replaced in known annotations. For e.g. <code>@ApiModelProperty(value="${property1.description}")</code>
 will evaluate <code>property1.description</code> from the available properties. If none is found, it will render the
 un-resolved expression as-is.</p>
</div>
<div class="paragraph">
<p>Currently supported list of annotations are in order of priority within the annotation:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. description resolution targets</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Annotation</th>
<th class="tableblock halign-left valign-top">Attribute</th>
<th class="tableblock halign-left valign-top">Target Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ApiModelProperty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ModelProperty#description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>@ApiModelProperty(value="${property1.description}")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ApiModelProperty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ModelProperty#description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>@ApiModelProperty(notes="${property1.description}")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ApiParam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter#description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>@ApiParam(value="${param1.description}")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ApiImplicitParam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter#description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>@ApiImplicitParam(value="${param1.description}")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ApiOperation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">notes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operation#notes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>@ApiOperation(notes="${operation1.description}")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ApiOperation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">summary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operation#summary</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>@ApiOperation(value="${operation1.summary}")</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequestParam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter#defaultValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>@RequestParam(defaultValue="${param1.defaultValue}")</code></p></td>
</tr>
</tbody>
<tfoot>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RequestHeader</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">defaultValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter#defaultValue</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e.g. <code>@RequestHeader(defaultValue="${param1.defaultValue}")</code></p></td>
</tr>
</tfoot>
</table>
<div class="paragraph">
<p>For a detailed explanation <a href="#property-file-lookup">see here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="overriding-property-datatypes"><a class="anchor" href="#overriding-property-datatypes"></a>6.5. Overriding property datatypes</h3>
<div class="paragraph">
<p>Using the <code>ApiModelProperty#dataType</code> we can override the inferred data types. However it is restricted
 to only allow data types to be specified with a fully qualified class name. For e.g. if we have the following
 definition</p>
</div>
<div class="listingblock">
<div class="title">Example data type override</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre>
<span class="comment">// if com.qualified.ReplaceWith is not a Class that can be created using Class.forName(...)</span>
<span class="comment">// Original will be replaced with the new class</span>
<span class="annotation">@ApiModelProperty</span>(dataType = <span class="string"><span class="delimiter">&quot;</span><span class="content">com.qualified.ReplacedWith</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> Original getOriginal() { ... }

<span class="comment">// if ReplaceWith is not a Class that can be created using Class.forName(...) Original will be preserved</span>
<span class="annotation">@ApiModelProperty</span>(dataType = <span class="string"><span class="delimiter">&quot;</span><span class="content">ReplaceWith</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> Original getAnotherOriginal() { ... }
</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the case of <code>ApiImplicitParam#dataType</code>, since the type itself is usually a scalar type (string, int)
use one of the base types specified in the Types class &#8658;
<code>springfox-schema/src/main/java/springfox/documentation/schema/Types.java</code>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Primitive types</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre> * <span class="annotation">@deprecated</span> use <span class="annotation">@see</span> {<span class="annotation">@link</span> ScalarType} instead
 *<span class="regexp"><span class="delimiter">/</span></span><span class="error">
</span><span class="annotation">@Deprecated</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Types</span> {
  <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">Set</span>&lt;<span class="predefined-type">String</span>&gt; BASE_TYPES = Stream.of(
      <span class="string"><span class="delimiter">&quot;</span><span class="content">int</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">date</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">double</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">float</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">boolean</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">byte</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">object</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">long</span><span class="delimiter">&quot;</span></span>,
      <span class="string"><span class="delimiter">&quot;</span><span class="content">date-time</span><span class="delimiter">&quot;</span></span>,</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="docket-xml-configuration"><a class="anchor" href="#docket-xml-configuration"></a>6.6. Docket XML Configuration</h3>
<div class="paragraph">
<p>To use the plugin you must create a spring java configuration class which uses spring&#8217;s <code>@Configuration</code>.
This config class must then be defined in your xml application context.</p>
</div>
<div class="listingblock">
<div class="title">Xml Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="comment">&lt;!-- Required so springfox can access spring's RequestMappingHandlerMapping  --&gt;</span>
<span class="tag">&lt;mvc:annotation-driven</span><span class="tag">/&gt;</span>

<span class="comment">&lt;!-- Required to enable Spring post processing on @Configuration classes. --&gt;</span>
<span class="tag">&lt;context:annotation-config</span><span class="tag">/&gt;</span>

<span class="tag">&lt;bean</span> <span class="attribute-name">class</span>=<span class="string"><span class="delimiter">&quot;</span><span class="content">com.yourapp.configuration.MySwaggerConfig</span><span class="delimiter">&quot;</span></span><span class="tag">/&gt;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Configuration bean pulled into xml a configuration as a bean</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td>
  <td class="code"><pre>
<span class="annotation">@Configuration</span>
<span class="annotation">@EnableSwagger</span> <span class="comment">//Loads the spring beans required by the framework</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MySwaggerConfig</span> {

   <span class="comment">/**
    * Every Docket bean is picked up by the swagger-mvc framework - allowing for multiple
    * swagger groups i.e. same code base multiple swagger resource listings.
    */</span>
   <span class="annotation">@Bean</span>
   <span class="directive">public</span> Docket customDocket(){
      <span class="keyword">return</span> <span class="keyword">new</span> Docket(); <span class="comment">//some customization goes here</span>
   }

}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="docket-spring-java-configuration"><a class="anchor" href="#docket-spring-java-configuration"></a>6.7. Docket Spring Java Configuration</h3>
<div class="ulist">
<ul>
<li>
<p>Use the <code>@EnableSwagger</code> or <code>@EnableSwagger2</code> annotation.</p>
</li>
<li>
<p>Define one or more Docket instances using springs <code>@Bean</code> annotation.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Java Configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td>
  <td class="code"><pre><span class="annotation">@Configuration</span>
<span class="annotation">@EnableWebMvc</span> <span class="comment">//NOTE: Only needed in a non-springboot application</span>
<span class="annotation">@EnableSwagger2</span>
<span class="annotation">@ComponentScan</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">com.myapp.controllers</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">CustomJavaPluginConfig</span> {


   <span class="annotation">@Bean</span> <span class="comment">//Don't forget the @Bean annotation</span>
   <span class="directive">public</span> Docket customImplementation(){
      <span class="keyword">return</span> <span class="keyword">new</span> Docket()
            .apiInfo(apiInfo());
            <span class="comment">//... more options available</span>

   }

   <span class="comment">//...</span>
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="property-file-lookup"><a class="anchor" href="#property-file-lookup"></a>6.8. Support for documentation from property file lookup</h3>
<div class="paragraph">
<p>Starting with <code>2.7.0</code> we support looking up description from the following annotations given a property just like
property place holders resolve a value annotation <code>@Value(${key})</code>. The following annotations attributes support
description resolution.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@ApiParam#value()</code></p>
</li>
<li>
<p><code>@ApiImplicitParam#value()</code></p>
</li>
<li>
<p><code>@ApiModelProperty#value()</code></p>
</li>
<li>
<p><code>@ApiOperation#value()</code></p>
</li>
<li>
<p><code>@ApiOperation#notes()</code></p>
</li>
<li>
<p><code>@RequestParam#defaultValue()</code></p>
</li>
<li>
<p><code>@RequestHeader#defaultValue()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below are examples of how it would work</p>
</div>
<div class="paragraph">
<p><a id="controller-description"></a>Controller Example</p>
</div>
<div class="listingblock">
<div class="title">SomeController.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@ApiOperation</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">Find pet by Status</span><span class="delimiter">&quot;</span></span>,
      notes = <span class="string"><span class="delimiter">&quot;</span><span class="content">${SomeController.findPetsByStatus.notes}</span><span class="delimiter">&quot;</span></span>...) <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="annotation">@RequestMapping</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">/findByStatus</span><span class="delimiter">&quot;</span></span>, method = RequestMethod.GET, params = {<span class="string"><span class="delimiter">&quot;</span><span class="content">status</span><span class="delimiter">&quot;</span></span>})
  <span class="directive">public</span> Pet findPetsByStatus(
      <span class="annotation">@ApiParam</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">${SomeController.findPetsByStatus.status}</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="2"></i><b>(2)</b>
           required = <span class="predefined-constant">true</span>,...)
      <span class="annotation">@RequestParam</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">status</span><span class="delimiter">&quot;</span></span>,
          defaultValue=<span class="string"><span class="delimiter">&quot;</span><span class="content">${SomeController.findPetsByStatus.status.default}</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> status) { <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="comment">//...</span>
  }

  <span class="annotation">@ApiOperation</span>(notes = <span class="string"><span class="delimiter">&quot;</span><span class="content">Operation 2</span><span class="delimiter">&quot;</span></span>, value = <span class="string"><span class="delimiter">&quot;</span><span class="content">${SomeController.operation2.value}</span><span class="delimiter">&quot;</span></span>...) <i class="conum" data-value="4"></i><b>(4)</b>
  <span class="annotation">@ApiImplicitParams</span>(
      <span class="annotation">@ApiImplicitParam</span>(name=<span class="string"><span class="delimiter">&quot;</span><span class="content">header1</span><span class="delimiter">&quot;</span></span>, value=<span class="string"><span class="delimiter">&quot;</span><span class="content">${SomeController.operation2.header1}</span><span class="delimiter">&quot;</span></span>, ...) <i class="conum" data-value="5"></i><b>(5)</b>
  )
  <span class="annotation">@RequestMapping</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">operation2</span><span class="delimiter">&quot;</span></span>, method = RequestMethod.POST)
  <span class="directive">public</span> ResponseEntity&lt;<span class="predefined-type">String</span>&gt; operation2() {
    <span class="keyword">return</span> ResponseEntity.ok(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>);
  }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Example of <code>@ApiOperation#notes()</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Example of <code>@ApiParam#value()</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Example of <code>@RequestParam#defaultValue()</code></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Example of <code>@ApiOperation#value()</code></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Example of <code>@ApiImplicitParams#value()</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="model-description"></a>Model Example</p>
</div>
<div class="listingblock">
<div class="title">SomeModel.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">  <span class="directive">public</span> <span class="type">class</span> <span class="class">SomeModel</span> {
    <span class="annotation">@ApiModelProperty</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">${SomeModel.someProperty}</span><span class="delimiter">&quot;</span></span>, ...) <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="directive">private</span> <span class="type">long</span> someProperty;
  }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Example of <code>@ApiModelProperty#value()</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To provide these properties via external properties just add it to your application property file or any property
source configured by the application as shown below. When a property place holder cannot be found the default
behavior is to echo the expression as-is.</p>
</div>
<div class="listingblock">
<div class="title">application.properties</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">SomeController.findPetsByStatus.notes=Finds pets by status
SomeController.findPetsByStatus.status=Status could be one of ...
SomeController.operation2.header1=Header for bla bla...
SomeController.operation2.value=Operation 2 do something...
SomeModel.someProperty=Some property description</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="swagger-group"><a class="anchor" href="#swagger-group"></a>6.8.1. Swagger group</h4>
<div class="paragraph">
<p>A swagger group is a concept introduced by this library which is simply a unique identifier for a Swagger Resource Listing
within your application. The reason this concept was introduced was to support applications which require more than one
Resource Listing. Why would you need more than one Resource Listing?
- A single Spring Web MVC  application serves more than one API e.g. publicly facing and internally facing.
- A single Spring Web MVC  application serves multiple versions of the same API. e.g. v1 and v2</p>
</div>
<div class="paragraph">
<p>In most cases an application will not need more than one Resource Listing and the concept of swagger groups can be ignored.</p>
</div>
</div>
<div class="sect3">
<h4 id="configuring-the-output-of-operationid-in-a-swagger-2-0-spec"><a class="anchor" href="#configuring-the-output-of-operationid-in-a-swagger-2-0-spec"></a>6.8.2. Configuring the output of <em>operationId</em> in a Swagger 2.0 spec</h4>
<div class="paragraph">
<p>As defined <a href="https://github.com/swagger-api/swagger-spec/blob/master/versions/2.0.md#fixed-fields-5"><code>operationId</code> was
introduced</a> in the Swagger 2.0 spec, the <code>operationId</code> parameter, which was referred to as <code>nickname</code> in pre-2.0
versions of the Swagger spec, provides the author a means by which to describe an API operation with a friendly name
. This field is often used by consumers of a Swagger 2.0 spec in order to name functions in generated clients. An
example of this can be seen in the <a href="https://github.com/swagger-api/swagger-codegen">swagger-codegen project</a>.</p>
</div>
<div class="sect4">
<h5 id="the-default-value-of-operationid-according-to-springfox"><a class="anchor" href="#the-default-value-of-operationid-according-to-springfox"></a>The default value of <code>operationId</code> according to Springfox</h5>
<div class="paragraph">
<p>By default, when using Springfox in Swagger 2.0 mode, the value of <code>operationID</code> will be rendered using the
following structure: &#8220;[java_method_name_here]Using[HTTP_verb_here]&#8221;. For example, if one has a method <code>getPets()</code>
connected to an HTTP GET verb, Springfox will render <code>getPetsUsingGET</code> for the operationId.</p>
</div>
<div class="sect5">
<h6 id="given-this-annotated-method"><a class="anchor" href="#given-this-annotated-method"></a>Given this annotated method &#8230;&#8203;</h6>
<div class="listingblock">
<div class="title">Standard Annotation On Method</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="annotation">@ApiOperation</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RequestMapping</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">/pets</span><span class="delimiter">&quot;</span></span>, method = RequestMethod.GET)
<span class="directive">public</span> Model getAllThePets() {
    ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="the-default-operationid-will-render-looking-like-this"><a class="anchor" href="#the-default-operationid-will-render-looking-like-this"></a>the default <code>operationId</code> will render looking like this:</h6>
<div class="listingblock">
<div class="title">Default Rendered Operation Id</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre>
<span class="key"><span class="delimiter">&quot;</span><span class="content">paths</span><span class="delimiter">&quot;</span></span>: {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">/pets</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">get</span><span class="delimiter">&quot;</span></span>: {
            <span class="error">.</span><span class="error">.</span><span class="error">.</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">operationId</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">getAllThePetsUsingGET</span><span class="delimiter">&quot;</span></span>
      <span class="error">.</span><span class="error">.</span><span class="error">.</span>
    }
  }
}
</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="customizing-the-value-of-operationid"><a class="anchor" href="#customizing-the-value-of-operationid"></a>Customizing the value of <em>operationId</em></h5>
<div class="paragraph">
<p>In the event you wish to override the default <code>operationId</code> which Springfox renders, you may do so by providing the
<code>nickname</code> element in an <code>@ApiOperation</code> annotation.</p>
</div>
<div class="sect5">
<h6 id="given-this-annotated-method-2"><a class="anchor" href="#given-this-annotated-method-2"></a>Given this annotated method &#8230;&#8203;</h6>
<div class="listingblock">
<div class="title">Nickname overrides default operationId</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="annotation">@ApiOperation</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, nickname = <span class="string"><span class="delimiter">&quot;</span><span class="content">getMeAllThePetsPlease</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@RequestMapping</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">/pets</span><span class="delimiter">&quot;</span></span>, method = RequestMethod.GET)
<span class="directive">public</span> Model getAllThePets() {
    ...
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="the-customized-operationid-will-render-looking-like-this"><a class="anchor" href="#the-customized-operationid-will-render-looking-like-this"></a>&#8230;&#8203; the customized <strong>operationId</strong> will render looking like this:</h6>
<div class="listingblock">
<div class="title">Default Rendered Operation Id</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td>
  <td class="code"><pre>
<span class="key"><span class="delimiter">&quot;</span><span class="content">paths</span><span class="delimiter">&quot;</span></span>: {
  <span class="key"><span class="delimiter">&quot;</span><span class="content">/pets</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">get</span><span class="delimiter">&quot;</span></span>: {
            <span class="error">.</span><span class="error">.</span><span class="error">.</span>
      <span class="key"><span class="delimiter">&quot;</span><span class="content">operationId</span><span class="delimiter">&quot;</span></span>:<span class="string"><span class="delimiter">&quot;</span><span class="content">getMeAllThePetsPlease</span><span class="delimiter">&quot;</span></span>
      <span class="error">.</span><span class="error">.</span><span class="error">.</span>
    }
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="changing-how-generic-types-are-named"><a class="anchor" href="#changing-how-generic-types-are-named"></a>6.8.3. Changing how Generic Types are Named</h4>
<div class="paragraph">
<p>By default, types with generics will be labeled with '\u00ab'(&lt;&lt;), '\u00bb'(&gt;&gt;), and commas. This can be problematic
with things like swagger-codegen. You can override this behavior by implementing your own <code>GenericTypeNamingStrategy</code>.
For example, if you wanted <code>List&lt;String&gt;</code> to be encoded as 'ListOfString' and <code>Map&lt;String, Object&gt;</code>
to be encoded as 'MapOfStringAndObject' you could set the <code>forCodeGeneration</code> customization option to <code>true</code> during
plugin customization:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre> <span class="error">d</span><span class="error">o</span><span class="error">c</span><span class="error">k</span><span class="error">e</span><span class="error">t</span><span class="error">.</span><span class="error">f</span><span class="error">o</span><span class="error">r</span><span class="error">C</span><span class="error">o</span><span class="error">d</span><span class="error">e</span><span class="error">G</span><span class="error">e</span><span class="error">n</span><span class="error">e</span><span class="error">r</span><span class="error">a</span><span class="error">t</span><span class="error">i</span><span class="error">o</span><span class="error">n</span><span class="error">(</span><span class="value">true</span><span class="error">|</span><span class="value">false</span><span class="error">)</span><span class="error">;</span></pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="caching"><a class="anchor" href="#caching"></a>6.9. Caching</h3>
<div class="paragraph">
<p>The caching feature that was introduced in 2.1.0 has been removed. Springfox no longer uses the cache abstraction to
improve performance the api scanners and readers. It has been rolled into the library as an internal implementation
detail as of 2.1.2. This is a runtime breaking change, however, since its not really breaking api compatibility change
other than the introduction of configuration change in consuming applications, we&#8217;re not incrementing the minor version.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-security-schemes-and-contexts-an-overview"><a class="anchor" href="#configuring-security-schemes-and-contexts-an-overview"></a>6.10. Configuring Security Schemes and Contexts an Overview</h3>
<div class="paragraph">
<p>The security provisions in SpringFox at a high level, without getting into the code, has different pieces
that all work together in concert</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The API itself needs to be protected. This is achieved by using, for simplicity sake, spring security and may also
use a combination of servlet container and tomcat/jersey etc.</p>
</li>
<li>
<p>The security scheme which describes the techniques you&#8217;ve used to protect the api. Spring fox supports whatever
schemes swagger specification supports (ApiKey, BasicAuth and OAuth2 (certain profiles))</p>
</li>
<li>
<p>Finally the security contexts which actually provides information on which api&#8217;s are protected by which schemes. I
think in your example, you&#8217;re missing the last piece of the puzzle, the security context see  <a href="#getting-started-spring-boot">15</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="example-application"><a class="anchor" href="#example-application"></a>6.11. Example application</h3>
<div class="paragraph">
<p>For an examples for spring-boot, vanilla spring applications take a look <a href="https://github.com/springfox/springfox-demos">examples</a>
in the demo application.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-springfox-staticdocs"><a class="anchor" href="#configuring-springfox-staticdocs"></a>7. Configuring springfox-staticdocs</h2>
<div class="sectionbody">
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Support for this module has been deprecated in 2.7.0. Since swagger2markup doesnt support jdk6 anymore it is
difficult for build to co-exist with the newer version of swagger2markup. Please use the
<em>latest</em> instructions provided in the awesome <a href="https://github.com/Swagger2Markup/swagger2markup">Swagger2Markup Library</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="security"><a class="anchor" href="#security"></a>8. Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Thanks to <a href="https://github.com/mojaiq">Javed Mohammed</a> we now have an example <a href="https://github.com/springfox/springfox-oath2-demo">oauth demo</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
this is based on swagger-ui pre 3.x
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="plugins"><a class="anchor" href="#plugins"></a>9. Plugins</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="introduction-2"><a class="anchor" href="#introduction-2"></a>9.1. Introduction</h3>
<div class="paragraph">
<p>Any plugin or extensibility hook that is available <a href="https://github.com/springfox/springfox/tree/master/springfox-spi/src/main/java/springfox/documentation/spi">is available in the SPI
module</a>. In the <code>spi</code> module, anything that ends in <code>*Plugin</code> is generally an extensibility point that is meant for
library consumers to consume.</p>
</div>
<div class="paragraph">
<p>The bean validation (JSR-303) is a great example of a contribution to <a href="https://github.com/springfox/springfox/tree/master/springfox-bean-validators">support bean validations</a>. Its fairly simple and small in scope and should
give an idea how one goes about creating a plugin. Its a set of plugins are act on <code>ModelProperty</code>, hence they
are  implementations of <code>ModelPropertyBuilderPlugin</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="plugins-available-for-extensibility"><a class="anchor" href="#plugins-available-for-extensibility"></a>9.2. Plugins Available For Extensibility</h3>
<div class="paragraph">
<p>To explicitly state the extensibility points that are available:
* At the schema level
.Schema Plugins</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ModelBuilderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for enriching models</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ModelPropertyBuilderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for enriching model properties</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TypeNameProviderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">these are for overriding names for models</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Service Plugins</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ApiListingScannerPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for adding custom api descriptions (see <a href="#_example_apilistingscannerplugin">example</a>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ApiListingBuilderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for enriching api listings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DefaultsProviderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for providing your own defaults</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DocumentationPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for enriching the documentation context</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ExpandedParameterBuilderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for parameter expansion used in the context of <code>@ModelAttribute</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OperationBuilderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for enriching operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OperationModelsProviderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for providing additional models that you might load a different way</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ParameterBuilderPlugin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for enriching parameters (see <a href="#_example_parameterbuilderplugin">example</a>)</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Swagger 2.0 specific plugins</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WebMvcSwaggerTransformationFilter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifically used with a servlet application, it is useful for transforming the generated open api.
Out of the box it comes with one plugin that sets the host name and base path. Typically, this the most common
thing to use this plugin for. Having said that this plugin has the power to rewrite the whole specification if required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WebFluxSwaggerTransformationFilter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifically used with a web flux application, it is useful for transforming the generated open api.
Out of the box it comes with one plugin that sets the host name and base path. Typically, this the most common
thing too use this plugin for. Having said that this plugin has the power to rewrite the whole specification if required.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Open API 3.0 specific plugins</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WebMvcOpenApiTransformationFilter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifically used with a servlet application, it is useful for transforming the generated open api.
Out of the box it comes with one plugin that sets the host name and base path. Typically, this the most common
thing to use this plugin for. Having said that this plugin has the power to rewrite the whole specification if required.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WebFluxOpenApiTransformationFilter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifically used with a web flux application, it is useful for transforming the generated open api.
Out of the box it comes with one plugin that sets the host name and base path. Typically, this the most common
thing to use this plugin for. Having said that this plugin has the power to rewrite the whole specification if required.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="steps-to-create-a-plugin"><a class="anchor" href="#steps-to-create-a-plugin"></a>9.3. Steps To Create A Plugin</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <em><em>same</em></em> patterns apply to all of the extensibility mechanisms
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Implement one of the above plugin interfaces</p>
</li>
<li>
<p>Give the plugin an order for e.g. <a href="https://github.com/springfox/springfox/blob/master/springfox-swagger-common/src/main/java/springfox/documentation/swagger/readers/parameter/ApiParamParameterBuilder.java#L42">ApiParamParameterBuilder</a> has an
order specified in the bean. In general spring plugins get the highest priority, The swagger plugins (the ones that process all the <code>@Api&#8230;&#8203;</code> annotations) layer information on top. So the order that you&#8217;d write will need to layer information at the end.</p>
</li>
<li>
<p>Each plugin has</p>
<div class="ulist">
<ul>
<li>
<p>a <a href="https://github.com/springfox/springfox/blob/master/springfox-swagger-common/src/main/java/springfox/documentation/swagger/readers/parameter/ApiParamParameterBuilder.java#L47">*context</a> and provides access to any information that the plugin might need to do its job</p>
</li>
<li>
<p>a <a href="https://github.com/springfox/springfox/blob/master/springfox-swagger-common/src/main/java/springfox/documentation/swagger/readers/parameter/ApiParamParameterBuilder.java#L49">*builder</a> for the type of object that the plugin is intended to support for e.g. a <code>ModelPropertyBuilderPlugin</code> will have access to a <code>ModelPropertyBuilder</code>. This builder is what is used to build the model <em>after</em> all the plugins have had access to contribute/enrich the underlying object.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Update any builder properties your plugin cares about</p>
</li>
<li>
<p>Register the plugin as a <code>@bean</code>, so that the plugin registry can pick it up.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>That is it!</p>
</div>
<div class="sect3">
<h4 id="example-operationbuilderplugin"><a class="anchor" href="#example-operationbuilderplugin"></a>9.3.1. Example OperationBuilderPlugin</h4>
<div class="paragraph">
<p>This example by <a href="https://github.com/koderman">@koderman</a>  is a custom extension for <a href="https://aws.amazon.com/api-gateway/">AWS Amazon Api Gateway</a> integration.</p>
</div>
<script src="https://gist.github.com/koderman/d49a67274e33f03405a8e45672794968.js"></script>
</div>
<div class="sect3">
<h4 id="example-parameterbuilderplugin"><a class="anchor" href="#example-parameterbuilderplugin"></a>9.3.2. Example ParameterBuilderPlugin</h4>
<div class="paragraph">
<p>Here is an example of how to add parameters by hand.</p>
</div>
<div class="paragraph">
<p>Consider this controller, <a href="https://github.com/springfox/springfox/blob/master/springfox-spring-config/src/main/java/springfox/springconfig/VersionedController.java">VersionedController.java</a></p>
</div>
<div id="version-annotated-controller-example" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="annotation">@GetMapping</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">/user</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> ResponseEntity&lt;User&gt; getUser(
    <span class="annotation">@VersionApi</span> <span class="type">int</span> version, <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="annotation">@RequestParam</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> id) {
  <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">UnsupportedOperationException</span>();
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Parameter annotated with <a href="https://github.com/springfox/springfox/blob/master/springfox-spring-config/src/main/java/springfox/springconfig/VersionApi.java"><code>@VersionApi</code></a></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We then create a plugin <a href="https://github.com/springfox/springfox/blob/master/springfox-spring-config/src/main/java/springfox/springconfig/VersionApiReader.java">VersionApiReader.java</a> to provide custom parameter information.</p>
</div>
<div id="parameter-building-plugin-example" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre></td>
  <td class="code"><pre><span class="annotation">@Component</span>
<span class="annotation">@Order</span>(SwaggerPluginSupport.SWAGGER_PLUGIN_ORDER + <span class="integer">1000</span>) <i class="conum" data-value="1"></i><b>(1)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">VersionApiReader</span> <span class="directive">implements</span> ParameterBuilderPlugin {
  <span class="directive">private</span> TypeResolver resolver;

  <span class="directive">public</span> VersionApiReader(TypeResolver resolver) {
    <span class="local-variable">this</span>.resolver = resolver;
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> apply(ParameterContext parameterContext) {
    ResolvedMethodParameter methodParameter = parameterContext.resolvedMethodParameter();
    Optional&lt;VersionApi&gt; requestParam = methodParameter.findAnnotation(VersionApi.class);
    <span class="keyword">if</span> (requestParam.isPresent()) { <i class="conum" data-value="2"></i><b>(2)</b>
      parameterContext.requestParameterBuilder()
          .in(ParameterType.HEADER)
          .name(<span class="string"><span class="delimiter">&quot;</span><span class="content">v</span><span class="delimiter">&quot;</span></span>)
          .query(q -&gt; q.model(m -&gt; m.scalarModel(ScalarType.STRING))); <i class="conum" data-value="3"></i><b>(3)</b>
      parameterContext.requestParameterBuilder()
          .in(ParameterType.HEADER)
          .name(<span class="string"><span class="delimiter">&quot;</span><span class="content">v</span><span class="delimiter">&quot;</span></span>)
          .query(q -&gt; q.style(ParameterStyle.SIMPLE)
              .model(m -&gt; m.scalarModel(ScalarType.STRING)));
    }
  }

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">boolean</span> supports(DocumentationType documentationType) {
    <span class="keyword">return</span> <span class="predefined-constant">true</span>; <i class="conum" data-value="4"></i><b>(4)</b>
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specify an order for the plugin to execute. Higher the number, later the plugin is applied.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Check if the <a href="https://github.com/springfox/springfox/blob/master/springfox-spring-config/src/main/java/springfox/springconfig/VersionApi.java">VersionApi</a>
is applied to the parameter.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Build the parameter with the necessary information using the builder methods.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Return true if we want this plugin to apply to all documentation types.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-apilistingscannerplugin"><a class="anchor" href="#example-apilistingscannerplugin"></a>9.3.3. Example ApiListingScannerPlugin</h4>
<div class="paragraph">
<p>Here is an example of how to add Api Descriptions by hand.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/springfox/springfox/blob/master/swagger-contract-tests/src/main/java/springfox/test/contract/swagger/Bug1767ListingScanner.java">Bug1767ListingScanner.java</a></p>
</div>
<div id="api-listing-plugin-example" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="directive">final</span> CachingOperationNameGenerator operationNames;

<span class="comment">/**
 * @param operationNames - CachingOperationNameGenerator is a component bean
 *                       that is available to be autowired
 */</span>
<span class="directive">public</span> Bug1767ListingScanner(CachingOperationNameGenerator operationNames) {<i class="conum" data-value="9"></i><b>(9)</b>
  <span class="local-variable">this</span>.operationNames = operationNames;
}

<span class="annotation">@Override</span>
<span class="directive">public</span> <span class="predefined-type">List</span>&lt;ApiDescription&gt; apply(DocumentationContext context) {
  <span class="keyword">return</span> <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;(
      <span class="predefined-type">Arrays</span>.asList( <i class="conum" data-value="1"></i><b>(1)</b>
          <span class="keyword">new</span> ApiDescription(
              <span class="string"><span class="delimiter">&quot;</span><span class="content">test</span><span class="delimiter">&quot;</span></span>,
              <span class="string"><span class="delimiter">&quot;</span><span class="content">/bugs/1767</span><span class="delimiter">&quot;</span></span>,
              <span class="string"><span class="delimiter">&quot;</span><span class="content">This is a bug summary</span><span class="delimiter">&quot;</span></span>,
              <span class="string"><span class="delimiter">&quot;</span><span class="content">This is a bug</span><span class="delimiter">&quot;</span></span>,
              <span class="predefined-type">Collections</span>.singletonList( <i class="conum" data-value="2"></i><b>(2)</b>
                  <span class="keyword">new</span> OperationBuilder(operationNames)
                      .authorizations(<span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;())
                      .codegenMethodNameStem(<span class="string"><span class="delimiter">&quot;</span><span class="content">bug1767GET</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="3"></i><b>(3)</b>
                      .method(HttpMethod.GET)
                      .notes(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is a test method</span><span class="delimiter">&quot;</span></span>)
                      .parameters(
                          <span class="predefined-type">Collections</span>.singletonList( <i class="conum" data-value="4"></i><b>(4)</b>
                              <span class="keyword">new</span> springfox.documentation.builders.ParameterBuilder()
                                  .description(
                                      <span class="string"><span class="delimiter">&quot;</span><span class="content">search by </span><span class="delimiter">&quot;</span></span>
                                          + <span class="string"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>)
                                  .type(<span class="keyword">new</span> TypeResolver()
                                      .resolve(<span class="predefined-type">String</span>.class))
                                  .name(<span class="string"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>)
                                  .parameterType(<span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>)
                                  .parameterAccess(<span class="string"><span class="delimiter">&quot;</span><span class="content">access</span><span class="delimiter">&quot;</span></span>)
                                  .required(<span class="predefined-constant">true</span>)
                                  .modelRef(<span class="keyword">new</span> springfox.documentation.schema.ModelRef(
                                      <span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="5"></i><b>(5)</b>
                                  .build()))
                      .requestParameters(
                          <span class="predefined-type">Collections</span>.singletonList( <span class="comment">//&lt;4a&gt;</span>
                              <span class="keyword">new</span> RequestParameterBuilder()
                                  .description(<span class="string"><span class="delimiter">&quot;</span><span class="content">search by description</span><span class="delimiter">&quot;</span></span>)
                                  .name(<span class="string"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>)
                                  .required(<span class="predefined-constant">true</span>)
                                  .in(ParameterType.QUERY)
                                  .query(q -&gt; q.model(m -&gt; m.scalarModel(ScalarType.STRING))) <span class="comment">//&lt;5b&gt;</span>
                                  .build()))
                      .responses(responseMessages()) <i class="conum" data-value="6"></i><b>(6)</b>
                      .responseModel(<span class="keyword">new</span> springfox.documentation.schema.ModelRef(<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="7"></i><b>(7)</b>
                      .responses(responses()) <span class="comment">//&lt;6b&gt;</span>
                      .build()),
              <span class="predefined-constant">false</span>),
          <span class="keyword">new</span> ApiDescription(
              <span class="string"><span class="delimiter">&quot;</span><span class="content">different-group</span><span class="delimiter">&quot;</span></span>,
              <i class="conum" data-value="8"></i><b>(8)</b>
              <span class="string"><span class="delimiter">&quot;</span><span class="content">/different/2219</span><span class="delimiter">&quot;</span></span>,
              <span class="string"><span class="delimiter">&quot;</span><span class="content">This is a bug summary</span><span class="delimiter">&quot;</span></span>,
              <span class="string"><span class="delimiter">&quot;</span><span class="content">This is a bug</span><span class="delimiter">&quot;</span></span>,
              <span class="predefined-type">Collections</span>.singletonList(
                  <span class="keyword">new</span> OperationBuilder(
                      operationNames)
                      .authorizations(<span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;())
                      .codegenMethodNameStem(<span class="string"><span class="delimiter">&quot;</span><span class="content">bug2219GET</span><span class="delimiter">&quot;</span></span>)
                      .method(HttpMethod.GET)
                      .notes(<span class="string"><span class="delimiter">&quot;</span><span class="content">This is a test method</span><span class="delimiter">&quot;</span></span>)
                      .parameters(
                          <span class="predefined-type">Collections</span>.singletonList(
                              <span class="keyword">new</span> springfox.documentation.builders.ParameterBuilder()
                                  .description(<span class="string"><span class="delimiter">&quot;</span><span class="content">description of bug 2219</span><span class="delimiter">&quot;</span></span>)
                                  .type(<span class="keyword">new</span> TypeResolver().resolve(<span class="predefined-type">String</span>.class))
                                  .name(<span class="string"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>)
                                  .parameterType(<span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>)
                                  .parameterAccess(<span class="string"><span class="delimiter">&quot;</span><span class="content">access</span><span class="delimiter">&quot;</span></span>)
                                  .required(<span class="predefined-constant">true</span>)
                                  .modelRef(<span class="keyword">new</span> springfox.documentation.schema.ModelRef(<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>))
                                  .build()))
                      .requestParameters(
                          <span class="predefined-type">Collections</span>.singletonList(
                              <span class="keyword">new</span> RequestParameterBuilder()
                                  .description(<span class="string"><span class="delimiter">&quot;</span><span class="content">description of bug 2219</span><span class="delimiter">&quot;</span></span>)
                                  .name(<span class="string"><span class="delimiter">&quot;</span><span class="content">description</span><span class="delimiter">&quot;</span></span>)
                                  .in(<span class="string"><span class="delimiter">&quot;</span><span class="content">query</span><span class="delimiter">&quot;</span></span>)
                                  .required(<span class="predefined-constant">true</span>)
                                  .query(q -&gt; q.model(m -&gt; m.scalarModel(ScalarType.STRING)))
                                  .build()))
                      .responses(responseMessages())
                      .responseModel(<span class="keyword">new</span> springfox.documentation.schema.ModelRef(<span class="string"><span class="delimiter">&quot;</span><span class="content">string</span><span class="delimiter">&quot;</span></span>))
                      .build()),
              <span class="predefined-constant">false</span>)));
}

<span class="comment">/**
 * @return Set of response messages that overide the default/global response messages
 */</span>
<span class="directive">private</span> <span class="predefined-type">Set</span>&lt;Response&gt; responseMessages() { <i class="conum" data-value="8"></i><b>(8)</b>
  <span class="keyword">return</span> singleton(<span class="keyword">new</span> springfox.documentation.builders.ResponseBuilder()
      .code(<span class="string"><span class="delimiter">&quot;</span><span class="content">200</span><span class="delimiter">&quot;</span></span>)
      .description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Successfully received bug 1767 or 2219 response</span><span class="delimiter">&quot;</span></span>)
      .representation(MediaType.TEXT_PLAIN)
      .apply(r -&gt; r.model(m -&gt; m.scalarModel(ScalarType.STRING)))
      .build());
}

<span class="comment">/**
 * @return Set of response messages that overide the default/global response messages
 */</span>
<span class="directive">private</span> <span class="predefined-type">Collection</span>&lt;Response&gt; responses() { <span class="comment">//&lt;8b&gt;</span>
  <span class="keyword">return</span> singletonList(<span class="keyword">new</span> ResponseBuilder()
      .code(<span class="string"><span class="delimiter">&quot;</span><span class="content">200</span><span class="delimiter">&quot;</span></span>)
      .description(<span class="string"><span class="delimiter">&quot;</span><span class="content">Successfully received bug 1767 or 2219 response</span><span class="delimiter">&quot;</span></span>)
      .representation(MediaType.ALL)
      .apply(r -&gt; r.model(m -&gt; m.scalarModel(ScalarType.STRING))
          .build())
      .build());
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Add a list of custom <code>ApiDescription</code>s</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Add a list of <code>Operation</code>s for each description</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>NOTE: the code generated names are not guaranteed to be unique. For these custom endpoints it is the
responsibility of the service author to ensure.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Added parameters to the operation</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>NOTE: It is important to also ensure we pass in a model reference even for primitive types</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Set of response messages that overide the default/global response messages</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Response model reference of the default model returned by the operation. Usually the  response model returned
in a 200 or 201 response.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Optionally provide a group name, if provided this api  will only appear under that group. If absent,
the api will appear under the default group.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>CachingOperationNameGenerator is a component bean that is available to be autowired</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="additional-extensibility-options"><a class="anchor" href="#additional-extensibility-options"></a>10. Additional extensibility options</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. Other Extensibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RequestHandlerCombiner</code><sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for combining apis that react to the same API endpoint given the same input criteria but produces different output.
 We provide a <code>DefaultRequestHandlerCombiner</code> but this is an extensibility point added to customize it.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.7.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AlternateTypeRuleConvention</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">To provide a convention based type rules. Ideally we use these when its cumbersome to define individual types either
because there are just too many, or even in some cases where it involves creating mixin types just for the sake of
OpenAPI documentation. <a href="https://github.com/springfox/springfox/blob/ef1721afc4c910675d9032bee59aea8e75e06d27/springfox-spring-web/src/main/java/springfox/documentation/spring/web/plugins/JacksonSerializerConvention.java"><code>JacksonSerializerConvention</code></a>
 is an example of how we apply rules to types annotated with <code>JsonSerialize</code>/<code>JsonDeserialize</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.7.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SwaggerResourcesProvider</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extensibility which allows overriding how the swagger resources are served. By default we serve APIs hosted on the
same application. This can be used to aggregate APIs as well.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.7.0</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
1. This has a shortcoming currently in that, currently the response still hides one of the response
representations. This is a limitation of the OAI Spec 2.0.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="examples-of-alternate-type-rule-convention"><a class="anchor" href="#examples-of-alternate-type-rule-convention"></a>10.1. Examples of alternate type rule convention</h3>
<div class="sect3">
<h4 id="jacksonserializerconvention"><a class="anchor" href="#jacksonserializerconvention"></a>10.1.1. JacksonSerializerConvention</h4>
<div class="paragraph">
<p>Here is how we configure the <code>JacksonSerializerConvention</code>.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/springfox/springfox/blob/c48a8bb019371cb1e3c79d24c3db3791ac5025cc/swagger-contract-tests/src/test/groovy/springfox/test/contract/swaggertests/FunctionContractSpec.groovy#L201-L204">FunctionContractSpec.java</a></p>
</div>
<div id="jackson-convention-example-1" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="annotation">@Bean</span>
AlternateTypeRuleConvention jacksonSerializerConvention(TypeResolver resolver) {
  <span class="keyword">new</span> JacksonSerializerConvention(resolver, <span class="string"><span class="delimiter">&quot;</span><span class="content">springfox.documentation.spring.web.dummy.models</span><span class="delimiter">&quot;</span></span>)
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="creating-a-convention"><a class="anchor" href="#creating-a-convention"></a>10.1.2. Creating a convention</h4>
<div class="paragraph">
<p>Below is an example for creating a rule that automatically provides a convention for configuring <code>Pageable</code> type.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/springfox/springfox/blob/ef1721afc4c910675d9032bee59aea8e75e06d27/springfox-data-rest/src/main/java/springfox/documentation/spring/data/rest/configuration/SpringDataRestConfiguration.java#L46-L64">SpringDataRestConfiguration.java</a></p>
</div>
<div id="jackson-convention-example-2" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td>
  <td class="code"><pre><span class="annotation">@Bean</span>
<span class="directive">public</span> AlternateTypeRuleConvention pageableConvention(
    <span class="directive">final</span> TypeResolver resolver,
    <span class="directive">final</span> RepositoryRestConfiguration restConfiguration) {
  <span class="keyword">return</span> <span class="keyword">new</span> AlternateTypeRuleConvention() {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">int</span> getOrder() {
      <span class="keyword">return</span> Ordered.HIGHEST_PRECEDENCE;
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">List</span>&lt;AlternateTypeRule&gt; rules() {
      <span class="keyword">return</span> singletonList(
          newRule(resolver.resolve(<span class="predefined-type">Pageable</span>.class), resolver.resolve(pageableMixin(restConfiguration)))
      );
    }
  };
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="paragraph">
<p>It involves creating a generated in-memory type that allows the springfox inference engine to use the new type
instead of <code>Pageable</code>.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/springfox/springfox/blob/ef1721afc4c910675d9032bee59aea8e75e06d27/springfox-data-rest/src/main/java/springfox/documentation/spring/data/rest/configuration/SpringDataRestConfiguration.java#L68-L88">SpringDataRestConfiguration.java</a></p>
</div>
<div id="in-memory-alternate-type" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre></td>
  <td class="code"><pre><span class="directive">private</span> <span class="predefined-type">Type</span> pageableMixin(RepositoryRestConfiguration restConfiguration) {
  <span class="keyword">return</span> <span class="keyword">new</span> AlternateTypeBuilder()
      .fullyQualifiedClassName(
          <span class="predefined-type">String</span>.format(<span class="string"><span class="delimiter">&quot;</span><span class="content">%s.generated.%s</span><span class="delimiter">&quot;</span></span>,
              <span class="predefined-type">Pageable</span>.class.getPackage().getName(),
              <span class="predefined-type">Pageable</span>.class.getSimpleName()))
      .property(p -&gt; p.name(restConfiguration.getPageParamName())
          .type(<span class="predefined-type">Integer</span>.class)
          .canRead(<span class="predefined-constant">true</span>)
          .canWrite(<span class="predefined-constant">true</span>))
      .property(p -&gt; p.name(restConfiguration.getLimitParamName())
          .type(<span class="predefined-type">Integer</span>.class)
          .canRead(<span class="predefined-constant">true</span>)
          .canWrite(<span class="predefined-constant">true</span>))
      .property(p -&gt; p.name(restConfiguration.getSortParamName())
          .type(<span class="predefined-type">String</span>.class)
          .canRead(<span class="predefined-constant">true</span>)
          .canWrite(<span class="predefined-constant">true</span>))
      .build();
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="aggregating-multiple-swagger-specifications-in-the-same-swagger-ui"><a class="anchor" href="#aggregating-multiple-swagger-specifications-in-the-same-swagger-ui"></a>10.2. Aggregating multiple swagger specifications in the same swagger-ui</h3>
<div class="paragraph">
<p>You need to create a bean that implements the <a href="https://github.com/springfox/springfox/blob/cef36c0b0a3e20ef2cb0c23a76ee34866abaf490/springfox-swagger-common/src/main/java/springfox/documentation/swagger/web/SwaggerResourcesProvider.java#L25-L26"><code>SwaggerResourcesProvider</code></a>
interface. Typically you&#8217;d have to make a composite bean that uses multiple <a href="https://github.com/springfox/springfox/blob/cef36c0b0a3e20ef2cb0c23a76ee34866abaf490/springfox-swagger-common/src/main/java/springfox/documentation/swagger/web/InMemorySwaggerResourcesProvider.java#L38">InMemorySwaggerResourcesProvider</a>
and adds your own json file to it as well.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You need to make this new bean a @Primary bean. otherwise the you&#8217;d get an exception about ambiguous beans.
</td>
</tr>
</table>
</div>
<div id="multiple-swagger-aggregate" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td>
  <td class="code"><pre><span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SwaggerWsEndpointsConfig</span> {

    <span class="annotation">@Primary</span>
    <span class="annotation">@Bean</span>
    <span class="directive">public</span> SwaggerResourcesProvider swaggerResourcesProvider(InMemorySwaggerResourcesProvider defaultResourcesProvider) {
        <span class="keyword">return</span> () -&gt; {
            SwaggerResource wsResource = <span class="keyword">new</span> SwaggerResource();
            wsResource.setName(<span class="string"><span class="delimiter">&quot;</span><span class="content">ws endpoints</span><span class="delimiter">&quot;</span></span>);
            wsResource.setSwaggerVersion(<span class="string"><span class="delimiter">&quot;</span><span class="content">2.0</span><span class="delimiter">&quot;</span></span>);
            wsResource.setLocation(<span class="string"><span class="delimiter">&quot;</span><span class="content">/v2/websockets.json</span><span class="delimiter">&quot;</span></span>);

            <span class="predefined-type">List</span>&lt;SwaggerResource&gt; resources = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;(defaultResourcesProvider.get());
            resources.add(wsResource);
            <span class="keyword">return</span> resources;
        };
    }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="spring-data-rest-extensibility"><a class="anchor" href="#spring-data-rest-extensibility"></a>11. Spring Data Rest extensibility</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These are incubating features and may change.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Spring Data REST Extensibility</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityOperationsExtractor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is an extensibility point to extract entity specific operations. This extractor is to allow creation of
<code>RequestHandler`s that are based on Spring-Data-Rest(SDR) endpoints. The SDR configuration information is available
via `EntityAssociationContext</code> and can be used to infer the properties needed
to produce the operation descriptions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.7.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EntityAssociationOperationsExtractor</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is an extensibility point to extract operations related to entity associations. This extractor is to allow
creation of <code>RequestHandler`s that are based on Spring-Data-Rest(SDR). The SDR configuration information is available
via `EntityContext</code> and can be used to infer the properties needed to produce the operation descriptions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.7.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RequestHandlerExtractorConfiguration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Additionally the glue that makes all this possible is the <code>RequestHandlerExtractorConfiguration</code>. When not
customized, the library uses the <code>DefaultExtractorConfiguration</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.7.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="answers-to-common-questions-and-problems"><a class="anchor" href="#answers-to-common-questions-and-problems"></a>12. Answers to common questions and problems</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="q1"></a><strong>Q. Why does springfox ignore the http status code in the return value of a controller method?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p><a href="https://github.com/springfox/springfox/issues/822#issuecomment-117372109">Reference #822</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="q2"></a><strong>Q. What is the relationship between swagger-ui and springfox-swagger-ui?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>It can be a little confusing:</p>
<div class="ulist">
<ul>
<li>
<p>Swagger Spec is a specification.</p>
</li>
<li>
<p>Swagger Api - an implementation of that specification that supports jax-rs, restlet, jersey etc.</p>
</li>
<li>
<p>Springfox libraries in general - another implementation of the specification focused on the spring based ecosystem.</p>
</li>
<li>
<p>Swagger.js and Swagger-ui - are client libraries in javascript that can consume swagger specification.</p>
</li>
<li>
<p>springfox-swagger-ui - the one that you&#8217;re referring to, is just packaging swagger-ui in a convenient way so that
spring services can serve it up.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="q3"></a><strong>Q. I use GSON and don&#8217;t use Jackson, What should I do?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>Thanks to <a href="https://github.com/chrishuttonch">@chrishuttonch</a> for describing the solution to <a href="https://github.com/springfox/springfox/issues/867">this issue</a></p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
I switched on the excludeFieldsWithoutExposeAnnotation() which meant that none of the objects would produce any data. To get around this I created several serializers for the following classes:
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">.registerTypeAdapter(springfox.documentation.service.ApiListing.class, <span class="keyword">new</span> SwaggerApiListingJsonSerializer())
.registerTypeAdapter(springfox.documentation.spring.web.json.Json.class, <span class="keyword">new</span> SwaggerJsonSerializer())
.registerTypeAdapter(springfox.documentation.swagger.web.SwaggerResource.class, <span class="keyword">new</span> SwaggerResourceSerializer())
.registerTypeAdapter(springfox.documentation.service.ResourceListing.class, <span class="keyword">new</span> SwaggerResourceListingJsonSerializer())
.registerTypeAdapter(springfox.documentation.swagger.web.SwaggerResource.class, <span class="keyword">new</span> SwaggerResourceSerializer())
.registerTypeAdapter(springfox.documentation.swagger.web.SecurityConfiguration.class, <span class="keyword">new</span> SwaggerSecurityConfigurationSerializer())
.registerTypeAdapter(springfox.documentation.swagger.web.UiConfiguration.class, <span class="keyword">new</span> SwaggerUiConfigurationSerializer());</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q4"></a><strong>Q. ObjectMapper weirdness in a spring-boot app?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>It is possible you&#8217;re experiencing one of the following issues</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NPE During startup?</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Running in debugger revealed that I had two instances of WebApplicationInitializers in my war. Spring is
refreshing context with each one and is resulting in second instance of <code>OptimizedModelPropertiesProvider</code> without
<code>onApplicationEvent</code> call. I was able to fix it by removing second <code>WebApplicationInitializer</code> in my code. Seems this is
related to <a href="https://github.com/spring-projects/spring-boot/issues/221">spring-boot issue #221</a> <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Object Mapper Customizations Not Working?</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Sometimes there are multiple <code>ObjectMapper</code> in play and it may result in the customizations not working
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup> Spring Boot in <code>HttpMessageConverters</code> first adds the Spring Boot configured <code>MappingJackson2HttpMessageConverter</code> and then it adds the default <code>MappingJackson2HttpMessageConverter</code> from Spring MVC. This causes the <code>ObjectMapperConfigured</code> event to fire twice, first for the configured converter (which is actually used) and then for the default converter. So when you f.e. set a custom property naming strategy then in <code>ObjectMapperBeanPropertyNamingStrategy</code> this is overwritten by the second event. The following code fixes this:
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">MyWebAutoConfiguration</span> <span class="directive">extends</span> WebMvcConfigurerAdapter {

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> extendMessageConverters(<span class="predefined-type">List</span>&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {
        ObjectMapper objectMapper = <span class="predefined-constant">null</span>;
        <span class="keyword">for</span> (HttpMessageConverter converter : converters) {
            <span class="keyword">if</span> (converter <span class="keyword">instanceof</span> MappingJackson2HttpMessageConverter) {
                MappingJackson2HttpMessageConverter jacksonConverter =
                        ((MappingJackson2HttpMessageConverter) converter);

                <span class="keyword">if</span> (objectMapper == <span class="predefined-constant">null</span>) {
                    objectMapper = jacksonConverter.getObjectMapper();
                } <span class="keyword">else</span> {
                    jacksonConverter.setObjectMapper(objectMapper);
                }
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q5"></a><strong>Q. How do we use Java 8 types easily. LocalDateTime?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>The easiest way to to configure dates is via <code>Docket#directModelSubstitute(LocalDateTime.class, String.class)</code>. If
these are ISO 8601 dates that conform to a string format i.e. <code>yyyy-MM-dd&#8217;T&#8217;HH:mm&#8217;Z'</code>. However you won&#8217;t have any format or validation info.</p>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use <code>java.sql.Date</code> works great for date precision and <code>java.util.Date</code> for date-time precision <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The way to correctly map the "Date" and "DateTime" types to their corresponding swagger types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Substitute "Date" types (java.util.LocalDate, org.joda.time.LocalDate) by java.sql.Date.</p>
</li>
<li>
<p>Substitute "DateTime" types (java.util.ZonedDateTime, org.joda.time.LocalDateTime, &#8230;&#8203;) by java.util.Date.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="csharp">docket
.directModelSubstitute(LocalDate.class, java.sql.Date.class)
.directModelSubstitute(LocalDateTime.class, java.util.Date.class)</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q6"></a><strong>Q. How does one use <code>@ModelAttribute</code> annotation. It doesn&#8217;t seem to render the model properties as scalar
properties?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>In order for <code>@ModelAttribute</code> annotated types to be inferred the properties need to be bean properties. If the
intent is immutability and passing in an object, the preferred approach is to make that a request body, in which
case the immutability will follow the rules laid out by jackson to determine what constitutes a request "view" of the
request object.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Getters/setters are a clean way to indicate what values can come in to a operation. While it may not be apparent in a
trivial model with one level nesting; the design choice will become clear when we realize that model attributes can be
arbitrarily nested. Consider (pseudo code in C# for brevity)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="csharp">Person {String firstName {get;set;}
String lastName {get;set;}
Category category {get;set;}
Category {String name {get;set;}
String description {get;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>So one could set properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>firstName</p>
</li>
<li>
<p>lastName</p>
</li>
<li>
<p>category.name</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now we don&#8217;t want category to be able to set description via the operation, how do we control/specify that? It makes
it hard to reason about which fields in an object are not intended to be mutated. This is the reason we chose to
limit it to objects that expose getters and setters.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
I know spring supports fields as well, and it will fall back to fields if setters are not found.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="q7"></a><strong>Q. How should we resolve multiple object mappers available as beans especially when using spring-hateoas?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>The idea is to provide a <code>@Primary</code> ObjectMapper. Based on answer provided by @prabhat1790 in <a href="https://github.com/springfox/springfox/issues/890">issue #890</a></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">  <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> SPRING_HATEOAS_OBJECT_MAPPER = <span class="string"><span class="delimiter">&quot;</span><span class="content">_halObjectMapper</span><span class="delimiter">&quot;</span></span>;

  <span class="annotation">@Autowired</span>
  <span class="annotation">@Qualifier</span>(SPRING_HATEOAS_OBJECT_MAPPER)
  <span class="directive">private</span> ObjectMapper springHateoasObjectMapper;

  <span class="annotation">@Primary</span>
  <span class="annotation">@Bean</span>
  <span class="annotation">@Order</span>(value=Ordered.HIGHEST_PRECEDENCE)
  <span class="annotation">@DependsOn</span>(SPRING_HATEOAS_OBJECT_MAPPER)
  <span class="directive">public</span> ObjectMapper objectMapper() {
    <span class="keyword">return</span> springHateoasObjectMapper;
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>and set the order of the other bean to lowest precedence.</p>
</div>
<div class="paragraph">
<p><a id="q8"></a><strong>Q. How do I use this library to aggregate swagger-enabled resources from multiple services?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>Logical explanation of how one might go about doing this is available in the <a href="https://groups.google.com/forum/#!searchin/swagger-swaggersocket/multiple/swagger-swaggersocket/g8fgSGUCrYs/A8Ms_lFOoN4J">swagger google
group</a> Additionally <a href="https://github.com/springfox/springfox/issues/1001#issuecomment-147609243">this comment</a> further
discusses issues with doing this.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="q9"></a><strong>Q. Why are my API params marked as required=false?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>This is because of how plugins work and how their priority layers information</p>
<div class="ulist">
<ul>
<li>
<p><code>@PathVariables</code> are always marked as required.</p>
</li>
<li>
<p><code>@ApiParam</code> is an optional annotation to describe additional meta-information like description etc.</p>
</li>
<li>
<p><code>@ApiParam#required()</code> is defaulted to false, unless you set it to true.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Springfox uses plugins to layer information. There are a set of plugins that are spring specific that apply the
inferred values on to the internal service models. The swagger annotation related metadata is layered on top of the
spring-mvc descriptions. By definition, plugins don&#8217;t know and should not know about each other or previously
inferred values (in your case required attribute).</p>
</div>
<div class="paragraph">
<p>So if you choose to augment the definitions with <code>@ApiParam</code> then you need to be explicit and set the value to true.</p>
</div>
<div class="paragraph">
<p><a id="q10"></a><strong>Q. How does one write a plugin to e.g. make default all types required and only some not required?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>To do this, you&#8217;d have to</p>
<div class="ulist">
<ul>
<li>
<p>add an alternate type rule for <code>Optional&lt;T&gt;</code> see <code>genericModelSubstitutes</code> in docket</p>
</li>
<li>
<p>implement your own <a href="https://github.com/springfox/springfox/blob/master/springfox-spi/src/main/java/springfox/documentation/spi/schema/ModelPropertyBuilderPlugin.java#L26">ModelPropertyBuilderPlugin</a></p>
</li>
<li>
<p>and override the read only property if you find an <code>Optional</code> type. See <a href="https://github.com/springfox/springfox/blob/master/springfox-swagger-common/src/main/java/springfox/documentation/swagger/schema/ApiModelPropertyPropertyBuilder.java#L35">here</a> for an example.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Keep in mind that you need the plugin to fire after this plugin&#8230;&#8203; so order it accordingly</p>
</div>
<div class="paragraph">
<p><a id="q11"></a><strong>Q. Why are all my operations not showing in the UI?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>This is a known limitation of swagger-spec. There is a work around for it but, swagger-ui won&#8217;t play nice with it.
I have a <a href="https://github.com/swagger-api/swagger-js/pull/541">PR</a> which address that issue. Would be great if you vote
up the PR and the <a href="https://github.com/swagger-api/swagger-spec/issues/291">underlying issue</a></p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This <a href="https://github.com/swagger-api/swagger-js/pull/541">PR</a> has been closed!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="q12"></a><strong>Q. How would one partition apis based on versions?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>Excerpted from an explanation for <a href="https://github.com/springfox/springfox/issues/963">issue 963</a>&#8230;&#8203;</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>(springfox) uses the context path as the starting point.</p>
</div>
<div class="paragraph">
<p>What you really need to is to define a dynamic servlet registration and create 2 dockets .. one for <strong>api</strong> and
one for <strong>api/v2</strong>. This <a href="http://stackoverflow.com/questions/23049736/working-with-multiple-dispatcher-servlets-in-a-spring-application">SO post</a> might help</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    ...
      Dynamic servlet = servletContext.addServlet(<span class="string"><span class="delimiter">&quot;</span><span class="content">v1Dispatcher</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> DispatcherServlet(ctx1));
            servlet.addMapping(<span class="string"><span class="delimiter">&quot;</span><span class="content">/api</span><span class="delimiter">&quot;</span></span>);
            servlet.setLoadOnStartup(<span class="integer">1</span>);

      Dynamic servlet = servletContext.addServlet(<span class="string"><span class="delimiter">&quot;</span><span class="content">v2Dispatcher</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> DispatcherServlet(ctx2));
            servlet.addMapping(<span class="string"><span class="delimiter">&quot;</span><span class="content">/api/v2</span><span class="delimiter">&quot;</span></span>);
            servlet.setLoadOnStartup(<span class="integer">1</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q13"></a><strong>Q. How does one configure swagger-ui for non-springboot applications?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>Excerpted from <a href="https://github.com/springfox/springfox/issues/983">issue 983</a>&#8230;&#8203;</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>I was able to get it working by modifying the <code>dispatcherServlet</code> to listen on /* , but this prevented <code>swagger-ui.html</code>
from being served. To fix this to let the <code>swagger-ui.html</code> bypass the <code>dispatcherServlet</code> i had to create a new
servlet mapping:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml">        <span class="tag">&lt;servlet&gt;</span>
          <span class="tag">&lt;servlet-name&gt;</span>RestServlet<span class="tag">&lt;/servlet-name&gt;</span>
          <span class="tag">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/servlet-class&gt;</span>
          <span class="tag">&lt;init-param&gt;</span>
            <span class="tag">&lt;param-name&gt;</span>contextConfigLocation<span class="tag">&lt;/param-name&gt;</span>
            <span class="tag">&lt;param-value&gt;</span><span class="tag">&lt;/param-value&gt;</span>
          <span class="tag">&lt;/init-param&gt;</span>
          <span class="tag">&lt;load-on-startup&gt;</span>1<span class="tag">&lt;/load-on-startup&gt;</span>
        <span class="tag">&lt;/servlet&gt;</span>

        <span class="tag">&lt;servlet-mapping&gt;</span>
          <span class="tag">&lt;servlet-name&gt;</span>default<span class="tag">&lt;/servlet-name&gt;</span>
            <span class="tag">&lt;url-pattern&gt;</span>/swagger-ui.html<span class="tag">&lt;/url-pattern&gt;</span>
        <span class="tag">&lt;/servlet-mapping&gt;</span>

        <span class="tag">&lt;servlet-mapping&gt;</span>
          <span class="tag">&lt;servlet-name&gt;</span>RestServlet<span class="tag">&lt;/servlet-name&gt;</span>
            <span class="tag">&lt;url-pattern&gt;</span>/*<span class="tag">&lt;/url-pattern&gt;</span>
        <span class="tag">&lt;/servlet-mapping&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Also had to let the webjar through the dispatcher servlet:</p>
</div>
<div class="paragraph">
<p><code>&lt;mvc:resources mapping="/webjars/**" location="classpath:/META-INF/resources/webjars/"/&gt;</code></p>
</div>
<div class="paragraph">
<p>Tricky to get working, but it works.  Perhaps there is a better way to remap swagger-ui.html or let it pass
through the dispatcherServlet.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<code>swagger-ui.html</code> is the name of the swagger-ui page. While it cannot be changed one can configure the
application such that landing on a particular URL re-directs the browser to the real swagger-ui location.
<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For e.g. One could move Swagger UI under <code>/documentation</code> using this code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="type">void</span> addViewControllers(ViewControllerRegistry registry) {

                registry.addRedirectViewController(<span class="string"><span class="delimiter">&quot;</span><span class="content">/documentation/v2/api-docs</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">/v2/api-docs?group=restful-api</span><span class="delimiter">&quot;</span></span>);
                registry.addRedirectViewController(<span class="string"><span class="delimiter">&quot;</span><span class="content">/documentation/swagger-resources/configuration/ui</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-resources/configuration/ui</span><span class="delimiter">&quot;</span></span>);
                registry.addRedirectViewController(<span class="string"><span class="delimiter">&quot;</span><span class="content">/documentation/swagger-resources/configuration/security</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-resources/configuration/security</span><span class="delimiter">&quot;</span></span>);
                registry.addRedirectViewController(<span class="string"><span class="delimiter">&quot;</span><span class="content">/documentation/swagger-resources</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-resources</span><span class="delimiter">&quot;</span></span>);
        }

        <span class="annotation">@Override</span>
        <span class="directive">public</span> <span class="type">void</span> addResourceHandlers(ResourceHandlerRegistry registry) {
                 registry.
                         addResourceHandler(<span class="string"><span class="delimiter">&quot;</span><span class="content">/documentation/swagger-ui.html**</span><span class="delimiter">&quot;</span></span>).addResourceLocations(<span class="string"><span class="delimiter">&quot;</span><span class="content">classpath:/META-INF/resources/swagger-ui.html</span><span class="delimiter">&quot;</span></span>);
                registry.
                        addResourceHandler(<span class="string"><span class="delimiter">&quot;</span><span class="content">/documentation/webjars/**</span><span class="delimiter">&quot;</span></span>).addResourceLocations(<span class="string"><span class="delimiter">&quot;</span><span class="content">classpath:/META-INF/resources/webjars/</span><span class="delimiter">&quot;</span></span>);
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>However, it still requires a redirect to <code>/documentation/swagger-ui.html</code> because the path name is
<a href="https://github.com/springfox/springfox/blob/master/springfox-swagger-ui/src/web/js/springfox.js#L4">hard-coded</a>.</p>
</div>
<div class="paragraph">
<p><a id="q14"></a><strong>Q. How does one create rules to substitute list and array items?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>If the following types&#8230;&#8203;</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    ToSubstitute<span class="type">[]</span> array;
    <span class="predefined-type">List</span>&lt;ToSubstitute&gt; list;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Need to look like this over the wire&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    Substituted<span class="type">[]</span> array;
    <span class="predefined-type">List</span>&lt;Substituted&gt; list;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is how the rules need to be configured</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    rules.add(newRule(resolver.arrayType(ToSubstitute), resolver.arrayType(Substituted)))
    rules.add(newRule(resolver.resolve(<span class="predefined-type">List</span>, ToSubstitute), resolver.resolve(<span class="predefined-type">List</span>, Substituted)))</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q15"></a><strong>Q. How does one configure a docket with multiple protocols/schemes?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>Use the <code>protocols</code> method to configure the docket to indicate supported schemes.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    docket.protocols(newHashSet(<span class="string"><span class="delimiter">&quot;</span><span class="content">http</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">https</span><span class="delimiter">&quot;</span></span>))</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q16"></a><strong>Q. How does one use springfox in a project with xml spring configuration?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>There is a demo application that describes <a href="https://github.com/springfox/springfox-demos/tree/master/spring-xml-swagger">how java-xml</a> configuration needs to be setup.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="q17"></a><strong>Q. How does one override the host name?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>This should be available in v2.3 thanks <a href="https://github.com/springfox/springfox/pull/1011">to this PR</a> by @cbornet.
It is still in incubation but host name can be configured per docket</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">     docket.host(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://maybe-an-api-gateway.host</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q18"></a><strong>Q. Infinite loop when springfox tries to determine schema for objects with nested/complex constraints?</strong></p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha">
<li>
<p>If you have recursively defined objects, I would try and see if providing an alternate type might work or perhaps
even ignoring the offending classes e.g. order using the docket. ignoredParameterTypes(Order.class). This is
usually found in Hibernate domain objects that have bidirectional dependencies on other objects.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><a id="q19"></a><strong>Q. How are tags implemented in springfox?</strong></p>
</div>
<div class="paragraph">
<p>Tags which are first class constructs just like operations, models etc. and what you see on operations are
references to those Tags. The typical workflow is to register tags in a docket and use the tag definitions on
operations(<code>@ApiOperation</code>)/controllers(<code>@Api</code>) to point to these registered tags (in the docket) by name.</p>
</div>
<div class="paragraph">
<p>The convenience we have in place just to reduce the amount of boiler plate for the developer is to provide a default
description that happens to be the same as the tag name. So in effect we are synthesizing a pseudo Tag by referencing
one on the operation.</p>
</div>
<div class="paragraph">
<p>By defining the Tag on the docket, we are referencing a real tag defined by you.</p>
</div>
<div class="paragraph">
<p><a id="q20"></a><strong>20. What can I try if configuration non-boot applications do not work as expected?</strong></p>
</div>
<div class="paragraph">
<p>Thanks to <a href="https://github.com/Pyohwan">@Pyohwan</a>'s suggestion
<code>@Configuration</code> annotation may not working with @EnableSwagger2.
So shouldn&#8217;t attach @Configration. So if you have a configuration class that pulls in the springfox configuration
using the <code>@EnableSwagger2</code> like below, try removing the <code>@Configuration</code> on this class as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@EnableSwagger2</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SwaggerConfig</span> {
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>and  use <code>@Import</code> annotation on <code>WebMvcConfigurerAdapter</code> or similar configuration class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="annotation">@EnableWebMvc</span>
<span class="annotation">@ComponentScan</span>(...)
<span class="annotation">@Import</span>(SwaggerConfig.class)
<span class="directive">public</span> <span class="type">class</span> <span class="class">MvcConfig</span> <span class="directive">extends</span> WebMvcConfigurerAdapter {
...</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q21"></a>*21. How to add CORS support? (thanks <a href="https://github.com/gangakrishh">@gangakrishh</a>)</p>
</div>
<div class="paragraph">
<p>Based on the <a href="https://spring.io/guides/gs/rest-service-cors/">spring guide</a>, Creating a <code>WebMvcConfigurer</code> we can
configure a request mapping to allow specific origins.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">    <span class="annotation">@Bean</span>
    <span class="directive">public</span> WebMvcConfigurer corsConfigurer() {
        <span class="keyword">return</span> <span class="keyword">new</span> WebMvcConfigurerAdapter() {
            <span class="annotation">@Override</span>
            <span class="directive">public</span> <span class="type">void</span> addCorsMappings(CorsRegistry registry) {
                registry.addMapping(<span class="string"><span class="delimiter">&quot;</span><span class="content">/some-request-mapping</span><span class="delimiter">&quot;</span></span>).allowedOrigins(<span class="string"><span class="delimiter">&quot;</span><span class="content">http://localhost:9000</span><span class="delimiter">&quot;</span></span>);
            }
        };</code></pre>
</div>
</div>
<div class="paragraph">
<p>If that doesn&#8217;t work, most likely the cors registration is happening earlier than the SpringFox beans are registered.
 To fix this, we can register a CORS filter registration bean, that registers our endpoints. In the example below,
 we&#8217;ve registered it for all endpoints.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">WebConfig</span> <span class="directive">extends</span> WebMvcConfigurerAdapter {

    <span class="comment">//https://stackoverflow.com/questions/31724994/spring-data-rest-and-cors</span>
    <span class="annotation">@Bean</span>
    <span class="directive">public</span> FilterRegistrationBean corsFilter() {
        UrlBasedCorsConfigurationSource source = <span class="keyword">new</span> UrlBasedCorsConfigurationSource();

        CorsConfiguration config = <span class="keyword">new</span> CorsConfiguration().applyPermitDefaultValues();
        config.setAllowCredentials(<span class="predefined-constant">false</span>);
        source.registerCorsConfiguration(<span class="string"><span class="delimiter">&quot;</span><span class="content">/**</span><span class="delimiter">&quot;</span></span>, config);

        FilterRegistrationBean bean = <span class="keyword">new</span> FilterRegistrationBean(<span class="keyword">new</span> CorsFilter(source));
        bean.setOrder(<span class="integer">0</span>);

        <span class="keyword">return</span> bean;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a id="q22"></a>*22. How to configure the docket when using <a href="https://immutables.github.io">Immutables</a>? (thanks <a href="https://github" class="bare">https://github</a>
.com/kevinm416[@kevinm416])</p>
</div>
<div class="paragraph">
<p>This is related to <a href="https://github.com/springfox/springfox/issues/1490">#1490</a>.The way to configure this
is to create a custom  alternateTypeRules in the <code>Docket</code> config. For e.g. if you have an immutable <code>MyClass</code> that
 generates <code>ImmutableMyClass</code>, then we would add a rule for it as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Bean</span>
<span class="directive">public</span> Docket docket() {
  <span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)
    .alternateTypeRules(AlternateTypeRules.newRule(MyClass.class,
                ImmutableMyClass.class));</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you&#8217;re using a library for you models, you may need to make the Immutable visible outside the package.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><a id="q23"></a>*23. Why does setting <code>@ApiImplicitParam#paramType="form"</code> output undefined dataType?</p>
</div>
<div class="paragraph">
<p>If you change the datatype to "__file" once 2.7.0 is released, it will fix your issue.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The reason we use "__file" is because if a consuming library defines a custom type <code>File</code> then that type ends
up getting treated just as if it were a <code>file</code> data type, even if that wasn&#8217;t the intent. To distinguish the usage of
 the custom type from the natively understood <code>file</code> primitive we introduced this convention.
</td>
</tr>
</table>
</div>
<div id="q24" class="paragraph">
<p>*24. How to configure springfox for Vavr/Javaslang Jackson module support?</p>
</div>
<div class="paragraph">
<p>We need to first create an alternate type rules convention that tells springfox to treat the vavr persistent
collections just like the native java collections. The following example only configurers Set, List and Map types.</p>
</div>
<script src="https://gist.github.com/dilipkrish/2bf80a0285a04b4037c8994fd8cb8b80.js"></script>
<div class="paragraph">
<p>Optionally, to use jackson effectively, for non-collection types we can register an application listener that
registers the vavr module with the objectmapper that is being used.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Component</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">SwaggerJacksonModuleWithVavr</span> <span class="directive">implements</span> ApplicationListener&lt;ObjectMapperConfigured&gt; {

  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> onApplicationEvent(ObjectMapperConfigured event) {
    event.getObjectMapper().registerModule(<span class="keyword">new</span> VavrModule());
  }
}</code></pre>
</div>
</div>
<div id="q25" class="paragraph">
<p>*25. Why are properties missing from certain models/types?</p>
</div>
<div class="paragraph">
<p>A good example of when this might happen is when using Immutables (the library) that are not particularly obvious.
Immutables are great, except that, unless u craft your model correctly it might lead to confusing results, as you&#8217;ve
seen. Also how springfox infers the model is opposite to how the service consumes it. By that I mean that, take for e.g. Model has properties a (read/write), b (write only), c (readonly) we read the writable properties for requests and readable properties for responses.</p>
</div>
<div class="paragraph">
<p>So if your model is only used for requests, it will have a and b
And if your model is only used of responses it will have a and c
and if it is present in both request and response it will have a, b and c.</p>
</div>
<div class="paragraph">
<p>We&#8217;re working to make this better thanks to <a href="https://github.com/springfox/springfox/pull/2056">model enhancements work</a>
 by <a href="https://github.com/MaksimOrlov">Maksim</a></p>
</div>
<div id="q26" class="paragraph">
<p>*26. Why is <code><a href="http://host:port/swagger-ui.html" class="bare">http://host:port/swagger-ui.html</a></code> blank? Or why do I get a 404 when I navigate to
<code><a href="http://host:port/swagger-ui.html" class="bare">http://host:port/swagger-ui.html</a></code>?</p>
</div>
<div class="paragraph">
<p>In non-spring boot application ensure that the resource handlers are added for the springfox-swagger-ui <a href="#q13">webjars</a></p>
</div>
<div class="paragraph">
<p>If its a spring boot application:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>check to see if the <code>spring.resources.add-mappings</code> property is set to true.</p>
</li>
<li>
<p>check to see if spring security is applied that the appropriate resources are permitted.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">  <span class="annotation">@Configuration</span>
  <span class="directive">public</span> <span class="type">class</span> <span class="class">WebSecurityConfiguration</span> <span class="directive">extends</span> WebSecurityConfigurerAdapter {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">void</span> configure(WebSecurity web) <span class="directive">throws</span> <span class="exception">Exception</span> {
      http
        .csrf().disable()
        .exceptionHandling()
        .authenticationEntryPoint(unauthorizedHandler)
        .accessDeniedHandler(accessDeniedHandler)
        .and()
        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)
        .and()
        .authorizeRequests()
        <span class="comment">//.antMatchers(&quot;/actuator/**&quot;).permitAll()</span>
        .antMatchers(<span class="string"><span class="delimiter">&quot;</span><span class="content">/actuator/**</span><span class="delimiter">&quot;</span></span>).hasAuthority(<span class="string"><span class="delimiter">&quot;</span><span class="content">ADMIN</span><span class="delimiter">&quot;</span></span>)
        .antMatchers(
          HttpMethod.GET,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">/v2/api-docs</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-resources/**</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-ui.html**</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">/webjars/**</span><span class="delimiter">&quot;</span></span>,
          <span class="string"><span class="delimiter">&quot;</span><span class="content">favicon.ico</span><span class="delimiter">&quot;</span></span>
        ).permitAll()
        .antMatchers(<span class="string"><span class="delimiter">&quot;</span><span class="content">/auth/**</span><span class="delimiter">&quot;</span></span>).permitAll()
        .anyRequest().authenticated();

      http
        .addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class)
        .headers()
        .cacheControl();
    }
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or we could simply ignore these resources altogether</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">WebSecurityConfiguration</span> <span class="directive">extends</span> WebSecurityConfigurerAdapter {
  <span class="annotation">@Override</span>
  <span class="directive">public</span> <span class="type">void</span> configure(WebSecurity web) <span class="directive">throws</span> <span class="exception">Exception</span> {
    web.ignoring()
      .antMatchers(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">/v2/api-docs</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-resources/**</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">/swagger-ui.html**</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">/webjars/**</span><span class="delimiter">&quot;</span></span>);
  }
}</code></pre>
</div>
</div>
<div id="q27" class="paragraph">
<p>*27. Controller receives parameter as a String but we are expecting a json Type. How can we model this?</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/springfox/springfox/blob/master/springfox-spring-web/src/test/java/springfox/documentation/spring/web/dummy/controllers/FeatureDemonstrationService.java#L243-267">FeatureDemonstrationService.class</a></p>
</div>
<div id="q27-controller" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td>
  <td class="code"><pre><span class="annotation">@RequestMapping</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">/2031</span><span class="delimiter">&quot;</span></span>, method = RequestMethod.POST)
<span class="annotation">@ResponseBody</span>
<span class="annotation">@ApiOperation</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">/2031</span><span class="delimiter">&quot;</span></span>)
<span class="annotation">@ApiImplicitParams</span>({
    <span class="annotation">@ApiImplicitParam</span>(
        name = <span class="string"><span class="delimiter">&quot;</span><span class="content">contents</span><span class="delimiter">&quot;</span></span>,
        dataType = <span class="string"><span class="delimiter">&quot;</span><span class="content">CustomTypeFor2031</span><span class="delimiter">&quot;</span></span>,
        examples = <span class="annotation">@io</span>.swagger.annotations.Example(
            value = {
                <span class="annotation">@ExampleProperty</span>(value = <span class="string"><span class="delimiter">&quot;</span><span class="content">{'property': 'test'}</span><span class="delimiter">&quot;</span></span>, mediaType = <span class="string"><span class="delimiter">&quot;</span><span class="content">application/json</span><span class="delimiter">&quot;</span></span>)
            })) <i class="conum" data-value="1"></i><b>(1)</b>
})
<span class="directive">public</span> <span class="type">void</span> save(<span class="annotation">@PathVariable</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">keyId</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> keyId,
                 <span class="annotation">@PathVariable</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>) <span class="predefined-type">String</span> id,
                 <span class="annotation">@RequestBody</span> <span class="predefined-type">String</span> contents <i class="conum" data-value="2"></i><b>(2)</b>
) {
}

<span class="directive">public</span> <span class="directive">static</span> <span class="type">class</span> <span class="class">CustomTypeFor2031</span> { <i class="conum" data-value="3"></i><b>(3)</b>
  <span class="directive">private</span> <span class="predefined-type">String</span> property;

  <span class="directive">public</span> <span class="predefined-type">String</span> getProperty() {
    <span class="keyword">return</span> property;
  }

  <span class="directive">public</span> <span class="type">void</span> setProperty(<span class="predefined-type">String</span> property) {
    <span class="local-variable">this</span>.property = property;
  }
}</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Assume we have a controller action that has a <code>String</code> parameter (contents). This is how we can override the
on-the-wire type (CustomTypeFor2031).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The method parameter that comes in as a <code>String</code> that is actually interpreted as <code>CustomTypeFor2031</code></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>CustomTypeFor2031</code> complex type that we read from json String.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once we do this we need to configure this change so that we can add the model to the definitions section.</p>
</div>
<div class="paragraph">
<p><a href="https://github.com/springfox/springfox/blob/eedbfb1b2dcf0344e21aefd0731515aa63fc9070/swagger-contract-tests/src/test/groovy/springfox/test/contract/swaggertests/Swagger2TestConfig.groovy#L118">Swagger2TestConfig</a></p>
</div>
<div id="q27-config" class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="keyword">return</span> <span class="keyword">new</span> Docket(DocumentationType.SWAGGER_2)
    .groupName(<span class="string"><span class="delimiter">&quot;</span><span class="content">featureService</span><span class="delimiter">&quot;</span></span>)
    .useDefaultResponseMessages(<span class="predefined-constant">false</span>)
    .additionalModels(resolver.resolve(FeatureDemonstrationService.CustomTypeFor2031.class))  <i class="conum" data-value="1"></i><b>(1)</b>
    .securitySchemes(authorizationTypes)
    .produces(<span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;(
        <span class="predefined-type">Arrays</span>.asList(
            <span class="string"><span class="delimiter">&quot;</span><span class="content">application/xml</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">application/json</span><span class="delimiter">&quot;</span></span>)))
    .alternateTypeRules(newRule(
        LocalDate.class,
        <span class="predefined-type">String</span>.class))
    .select().paths(PathSelectors.regex(<span class="string"><span class="delimiter">&quot;</span><span class="content">.*/features/.*</span><span class="delimiter">&quot;</span></span>))
    .build();</pre></td>
</tr></table></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Add <code>CustomTypeFor2031</code> as a additional model.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Thanks to <a href="https://github.com/shasti421">@shasti421</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. thanks <a href="https://github.com/springfox/springfox/issues/1140">Jaap-van-Hengstum</a>
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. thanks  <a href="https://github.com/springfox/springfox/issues/1161">@cbronet</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. Thanks <a href="https://github.com/springfox/springfox/issues/1080#issuecomment-169185653">@chornyi</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 3.0.1-SNAPSHOT<br>
Last updated 2020-07-14 17:09:47 UTC
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</body>
</html>